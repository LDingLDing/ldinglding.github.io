<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>李璐慧的个人网站 - Aloea&#39;s Personal Website</title>
    <link>https://blog.liluhui.cn/</link>
    
    <image>
      <url>https://blog.liluhui.cn/asset/img/logo-green.ico</url>
      <title>李璐慧的个人网站 - Aloea&#39;s Personal Website</title>
      <link>https://blog.liluhui.cn/</link>
    </image>
    
    <atom:link href="https://blog.liluhui.cn/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>关于生活、学习、工作</description>
    <pubDate>Fri, 12 Jul 2024 10:43:46 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>Test-Time-Training layers （TTT）</title>
      <link>https://blog.liluhui.cn/2024/07/12/Test-Time-Training-layers/</link>
      <guid>https://blog.liluhui.cn/2024/07/12/Test-Time-Training-layers/</guid>
      <pubDate>Fri, 12 Jul 2024 10:28:05 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;Test-Time-Training-layers-（TTT）&quot;&gt;&lt;a href=&quot;#Test-Time-Training-layers-（TTT）&quot; class=&quot;headerlink&quot; title=&quot;Test-Time-Training layers （TTT</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="Test-Time-Training-layers-（TTT）"><a href="#Test-Time-Training-layers-（TTT）" class="headerlink" title="Test-Time-Training layers （TTT）"></a>Test-Time-Training layers （TTT）</h1><h2 id="三句话介绍"><a href="#三句话介绍" class="headerlink" title="三句话介绍"></a>三句话介绍</h2><ol><li><p>TTT 层的优势是具有线性复杂度和表达性隐藏状态的序列建模层。</p></li><li><p>其在处理长文本和提高硬件效率方面非常有潜力。</p></li><li><p>关键思路是让隐藏状态改为机器学习模型，并将更新规则设为自监督学习的一步。</p></li></ol><br><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><ul><li><p><strong>Transformer 在长时间下表现良好，但具有二次复杂度</strong></p><p> Transformer 有一个KV缓存，它会随着时间的推移不断增长。这个状态不会压缩任何历史上下文，但随着上下文长度的增加，成本也会越来越高。</p><p> 对Transformer来说，每个token索引的平均复杂度在其32k上下文中不断减少。</p></li><li><p><strong>RNN 层具有线性复杂度，但在长上下文中的性能受到隐藏状态的表达能力的限制</strong></p><p> RNN 层必须将上下文压缩为固定大小的隐藏状态，作为一种压缩启发式，更新规则需要发现成千上万甚至数百万个token之间的底层结构和关系。</p><p> 像 Mamba 这样的 RNN 层，会随着时间的推移压缩成一个固定大小的状态，它们虽然效率很高，但很难真正利用额外的条件信息。</p></li><li><p><strong>TTT 的诞生</strong></p><p> 团队成员想：既然这样，为什么不把上下文压缩到模型的权重中——就像LLM处理互联网数据那样呢？</p><p> 这种「隐藏状态模型」既能在时间上保持固定大小，又能大大增强表达能力。</p></li></ul><br><h2 id="价值"><a href="#价值" class="headerlink" title="价值"></a>价值</h2><ol><li><p><strong>TTT</strong> 层直接替代了 Transformer  机制，解锁了具有表现力记忆的线性复杂度架构，使我们能够在上下文中训练包含数百万（未来可能是数十亿）个token的LLM。</p></li><li><p>与 Mamba 相比，<strong>TTT-Linear</strong> 具有更好的<a href="https://medium.com/nlp-tsupei/perplexity%E6%98%AF%E4%BB%80%E9%BA%BC-426f52897513">困惑度</a>和更少的 <a href="https://medium.com/@dzmitrybahdanau/the-flops-calculus-of-language-model-training-3b19c1f025e4">FLOPs</a>，并且更好地利用了长上下文。</p></li></ol><br><h2 id="核心点"><a href="#核心点" class="headerlink" title="核心点"></a>核心点</h2><ul><li><p>提出了一种新的<strong>序列建模层</strong>，用机器学习模型取代RNN的隐藏状态，更新规则是自监督学习的一个步骤。</p><img src="/2024/07/12/Test-Time-Training-layers/image.png" class="" title="img"><p> 使用了自监督学习来更新隐藏状态的权重，对每个token进行一次梯度下降。在处理一个序列时，该状态已经在其上下文窗口中的token上「训练」过了。</p><p> 值得注意的是，隐藏状态只存在于端到端架构中的一层。其他组件，比如QKV投影矩阵，是在预训练期间通过标准的交叉熵目标函数学习的。</p><p> 因此，端到端架构实际上是在进行元学习，寻找压缩上下文的最佳方式，以便更好地预测下一个token，也就是在「学习如何在测试时学习」。</p></li><li><p>提出 <strong>TTT-Linear 和 TTT-MLP 两种实例</strong>，隐藏状态分别是线性模型和两层MLP。</p><p> TTT-Linear 和 TTT-MLP 在性能上与基线相当甚至更优。</p><p> 与 Transformer 类似，TTT-Linear 能够通过考虑更多 token 来持续降低困惑度，而 Mamba 在处理超过 16k 上下文后就无法做到这一点。</p><p> TTT-MLP 则在内存I&#x2F;O方面面临挑战，需要进一步研究。</p></li><li><p>通过 <strong>mini-batch TTT</strong> 和双重形式的创新，提高了在硬件上执行的效率，特别是在GPU和TPU上的优化。</p><p> 为每个TTT mini-batch内的操作开发了一种对偶形式，以更好地利用现代GPU和TPU。这种对偶形式的输出与原始实现相当，但训练速度却快了5倍以上。</p></li><li><p>提出了<strong>未来研究的新方向</strong>，包括改进自监督任务的设计、系统优化、处理更长上下文和更大模型的能力，以及更大胆的f实现。</p></li></ul><p> </p><br><h2 id="Source"><a href="#Source" class="headerlink" title="Source"></a>Source</h2><p><a href="https://arxiv.org/pdf/2407.04620">https://arxiv.org/pdf/2407.04620</a></p><p><a href="https://mp.weixin.qq.com/s/Z8BVt7g6rnuAFzoca1fjfg">https://mp.weixin.qq.com/s/Z8BVt7g6rnuAFzoca1fjfg</a></p><p><a href="https://mp.weixin.qq.com/s/khBJiXTk2NJIj-Cxnb8kAQ">https://mp.weixin.qq.com/s/khBJiXTk2NJIj-Cxnb8kAQ</a></p><br><br><br><br><br><br>]]></content:encoded>
      
      
      
      
      <comments>https://blog.liluhui.cn/2024/07/12/Test-Time-Training-layers/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>2024 年 6 月总结</title>
      <link>https://blog.liluhui.cn/2024/07/02/202406/</link>
      <guid>https://blog.liluhui.cn/2024/07/02/202406/</guid>
      <pubDate>Tue, 02 Jul 2024 13:50:48 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;不要在人还没起来的时候按掉闹钟啊&lt;br&gt;不能这么自信..&lt;br&gt;我也是个拖延症患者 ( ╯□╰ )&lt;br&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h1 id=&quot;所见与所想&quot;&gt;&lt;a href=&quot;#所见与所想&quot; class=&quot;headerlink&quot; title=&quot;所见与所想&quot;&gt;&lt;/a&gt;所见与所想</description>
        
      
      
      
      <content:encoded><![CDATA[<p>不要在人还没起来的时候按掉闹钟啊<br>不能这么自信..<br>我也是个拖延症患者 ( ╯□╰ )<br><br/></p><h1 id="所见与所想"><a href="#所见与所想" class="headerlink" title="所见与所想"></a>所见与所想</h1><p>01</p><p><strong>“No battle was ever won according to plan, but no battle was ever won without one.”</strong></p><p>很多人的日子是走一步看一步，他们管这个叫活在当下，认为别人总是想的太多。</p><p>我觉得这样不对，活在当下不是没有追求地随性接受，而是充分思考和准备后，在那个当下做好那个当下的事情，这一切是有计划的，这个小时午休就是午休，下个小时考试就是考试，因为这个下午要考试，所以前一周的每一天应该如何地安排复习计划。</p><p>计划会被破坏，计划是不准确的，这对于任何一个反复精力过完整规划的人来说都是常识，这个常识就是 —— <strong>没有一场战斗是按计划赢得的，但没有一场战斗是没有计划的。</strong></p><p>所以我会去思考和规划，不是一定要执行，而是让每个当下的我有个执行的安全垫，那个当下的她永远知道该干什么，并且如果状态很好又或不好，她很清楚可以有所变化，因为有一条路径，即使这条路径每个月都会变化，每年都会大改，也没有关系，在那个当下，才可以心安理得地睡觉，并且睡得很香。<br><br/></p><p>02<br>每个人都有拖延症，我最近在看《Feel Good Productivity》这本书，里面的很多观点都和我的亲身经历一致，这种工具书就很适合反复拿出来用用，虽然很多方法我知道，但有这么一个工具将它逻辑条理清晰地列举出来，就像一个教鞭，<strong>给懒惰的自己醒醒脑子，鞭挞一个消极的自己，更好的关照自己如何更愉快地发挥创造力。</strong></p><p>比如最两天就很受这小节的鸡汤激励，重新评估自己的灾难化想象，即使现在这样糟糕的表现，也不过影响自己的一个月罢了，半年，根本不可能。</p><p>这本书有太多好东西了，我喜欢这些工具，有机会甚至想翻译给更多的人。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2024/07/02/Pasted%20image%2020240702113147.png" class="" width="500"><br/><p>03</p><p>听朋友们聊天发现，人们的心思太多，发布朋友圈、点赞朋友圈有这么多的弯弯绕绕的想法。</p><p>咱就让事情简单一点，</p><p>想要表达，不论想要分享信息、喜悦、不满，那就发出；</p><p>想要互动，不论觉得内容不错、想激励他人、刷存在感，那就点赞；</p><p><strong>就这么简单一点，别想那么多，世界会明媚不少。</strong></p><br/><p>04<br>最近慢慢褪去了喜欢瑜伽朋友的粉色泡泡。一开始，我发现与这里的同志的交流质量明显高出其他圈子，因为大家都是愿意探索自我，并且发展了或多或少觉察力或者说觉知的人。然后，随着我自己也成了老师，我发现交谈的很多人是书看多了，对，就是书看多了，<strong>侃侃而谈一些大道理，急切地想要告诉别人如何离开苦恼、离开痛苦、离开所有的不平衡。</strong></p><p>说真的，这正是学习曲线中的愚昧高峰，而在这些年轻老师身上，尤为明显。</p><p>这让我想到我前阵子写下的那段话，“问题出现在哪里？出现在信任他人总结出来的路径；</p><p>出现在你竟然觉得自己可以绕过那些坎坷。”</p><br/><br/><br/><h1 id="学习与工作"><a href="#学习与工作" class="headerlink" title="学习与工作"></a>学习与工作</h1><p>01<br>子弹日历真是个好东西，方便记录又能帮助自己很直观地复盘我究竟将时间花到了哪里。简单介绍下，就是通过一个 excel 表，大致每个月一列，一天一个格子，每天结束前标注下当天真实的精力重点，比如像我通常一天在2-3个重点，”公司工作” &#x2F; “社交” &#x2F; “AI” &#x2F; “瑜伽” 等等。定期回看一下就会发现有些事情远超过预期，有些觉得很重要的事情又投入远远不够，等于给我了一个直观的数据去反思我真的想做什么，又或者我在逃避什么，然后再去做调整，很适合拖延症的我。</p><br/><br/><p>02<br>想想这几个月，杂七杂八学了堆AI相关的，应用开发、测评测试、文生图、图生视频、微调语音识别 … 这段时间广度上是增加了不少，但深度上很成问题，说白了，还没想好真的要投入去做什么，或者也是缺这么个机会，缺同志一起搞个东西出来，不是像这样抱着玩玩的心态学习。这样成不了事，不行。</p><br/><br/><br/><h1 id="生活与社交"><a href="#生活与社交" class="headerlink" title="生活与社交"></a>生活与社交</h1><p>01<br>这个月的社交密度远超预期，得歇停歇停，不能总在喝酒，痘痘都多了好几颗。和朋友们聊天是挺愉快的，还是线下的交流好，我想让线上的交流再少一点，我喜欢面对面的感觉，不需要那些哈哈哈哈和表情包的润滑，近距离地看到对方的表情、听到对方的语气，即使很滑的内容，也会变得有趣，也能真的感受到看到对方的一部分。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2024/07/02/IMG_20240614_214951.jpg" class="" width="500"><br/><br/><p>02<br>瑜伽练习真是让人身心愉悦，杭州梅雨季三伏天粘腻地难受，随着一场运动在呼吸间身体内的湿热随着汗水流淌，整个人会变得通透。对，是真的身体感受到通透，有时是一些，有时则感觉完全清爽了，下午干活的精神也有了。<br>有机会的话，想尝试下户外瑜伽了，比起看着高楼林立繁华马路的窗外练习（我的日常），这几次在西湖景区的馆里练习的感觉真的不错，抬眼望去都是绿色的山和摇曳的树，自然地风声和鸟叫，心自然跟着变慢了些。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2024/07/02/1faa88b7357696840144a8c00cab6a8.jpg" class=""><br/><br/><p>03<br>端午回了趟老家，见了好不容易回趟国的老朋友，舍不得，也有些感慨这么多年物理距离越来越远，好在也一直在互相陪伴着。会希望能长长久久一直这么下去，是比我的家更让人熟悉的家，是从小到大一直在一起的朋友，有时候我甚至觉得有点像家人，不知道对方最近经历了什么也没关系，只希望她一直好好的。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2024/07/02/retouch_2024060815205892.jpg" class="" width="500"><br/><br/><p>04<br>和对象去逛了美院的毕业展，良渚校区那边，因为新校区整个校园显得很死板，不如其他几个小区。毕业展的内容在我看来适用性普遍太低了，太低的意思是，我怎么分析都觉得只能是花瓶，并且这个花瓶对比美学&#x2F;视觉化呈现的价值也没有，抄来抄去的风格形式居多。当然，不排除有好作品，雕塑那边就是两个我觉着眼前一亮。学院这个环境，虽然可以不用和商业接轨，但还是得起到些引领作用，又或许是我的期待太高了，即使作为桥梁的作用，做更多的风格&#x2F;可视化方法论普及也是合格的了。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2024/07/02/retouch_2024061014070532.jpg" class="" width="500"><br/><br/><p>05<br>趁着618把2023年的照片都整理了一下打印出来了，回看这一年拍照片记录日常更多了，甚至还想记录下更多，开始靠记忆记得的事情越来越少，没有什么回忆就更想依赖这些照片。想来也很神奇，和对象认识十年，现在一起回看照片已经感觉如此遥远了，会忽然发现照片中的事情某人不记得了，另一个人却记得，我俩的记忆模式真的很不一样。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2024/07/02/IMG_20240625_221324.jpg" class="" width="500"><br/><br/><p>06<br>又去老同学那玩到了几款不错的桌游，记录一下<br>《拉斯维加斯》欢乐运气游戏，策略性较低，摇到了欣喜若狂，摇不到垂头痛哭那种<br>《夺宝奇兵》贪婪与恐惧的博弈游戏，规则超级简单，就是去吓跑不敢赌的，策略性一般<br>《风声》谍战背景的桌游，类似三国杀，策略性较强，我属于新人，角色搭配不熟，但是套路化好像有点明显啊</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2024/07/02/dca94a3ad7d4deaf3bba590182906eb.jpg" class=""><br/><br/><br/><br/><br/>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E7%94%9F%E6%B4%BB/">生活</category>
      
      
      
      <comments>https://blog.liluhui.cn/2024/07/02/202406/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>2024 年 5 月总结</title>
      <link>https://blog.liluhui.cn/2024/05/31/202405/</link>
      <guid>https://blog.liluhui.cn/2024/05/31/202405/</guid>
      <pubDate>Fri, 31 May 2024 11:06:30 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;咖啡因和酒精填满了白天与黑夜&lt;br&gt;去看见各式各样的人&lt;br&gt;还是回到自己的桌前&lt;/p&gt;
&lt;p&gt;这个月写下的很多情绪&lt;br&gt;躁动的心&lt;br&gt;喷涌的呐喊&lt;br&gt;我想&lt;br&gt;都是他人的映射&lt;/p&gt;
&lt;h1 id=&quot;所见与所想&quot;&gt;&lt;a href=&quot;#所见与所想&quot; class=&quot;h</description>
        
      
      
      
      <content:encoded><![CDATA[<p>咖啡因和酒精填满了白天与黑夜<br>去看见各式各样的人<br>还是回到自己的桌前</p><p>这个月写下的很多情绪<br>躁动的心<br>喷涌的呐喊<br>我想<br>都是他人的映射</p><h1 id="所见与所想"><a href="#所见与所想" class="headerlink" title="所见与所想"></a>所见与所想</h1><p>01<br>有人说自己没有办法再工作了，不是说这辈子没法工作，而是每过一阵子的工作，就变成无法忍耐，发现自己变成了一块回转寿司，甚至像是长毛了回转寿司，依然在餐桌上回转着。我遇到了好几个年轻人，意识到自由意志的存在却苦于生存之中，遇不到心仪的事业，也不甘心麻木地活着。有时候想说你们的要求太高了，但这话也没法说出口，想要一份心仪的工作是很纯粹美好的希望，投入工作让工作变成喜欢的样子显得太艰难了，大家都喜欢短平快，看多了外显的美好有害身心健康啊。</p><p>In every job that must be done,<br>There is an element of fun.<br>You find the fun and snap!<br>The job’s a game.<br><br/></p><p>02<br>对工作麻木的一种表征就是开始唯物质财富论，完全物化自己的时间和精力，甚至开始否定和批判曾经的热血和激情是一种愚蠢。</p><p>曾经身处其中会因为学习到新东西而欣喜、因为解决问题而满意、因为收获感激而欣慰，现在这些东西难道都不存在了吗？还是跟随着环境的评判标准而忽略了自我的收获？这些自我的收获竟然被现在的你当作毫无价值？价值？是因为这不可量化去比较的价值而失去了自我的定位吗？</p><p>好像非得是那些数字才能真切地说明些什么，慢慢地和自己的连接越来越远，能量越来越低，变成什么，需要靠一个个新奇的体验、一次次豪爽的消费才能激起一会能量脉冲。</p><p>那个问我到底发生了什么日子会毫无激情的人，</p><p>因为追逐财富剥夺了你，</p><p>可是财富从来不是那些看的到的东西，</p><p>财富是没有消耗出去的东西，</p><p>你觉得是什么呢？<br><br/></p><p>03<br>热心肠喜欢从道理上帮助别人又不讨好的朋友，我的人生经验是，绝绝大多数眼下正在倾诉苦恼的人，在问我该怎么办的人，他们内心本来就有答案，他们首先需要被看见被听见、然后需要被拥抱被关注。<br>解决问题？不是，重新定义问题对人性来说是个漫长又艰难的过程，不是一己之力能做到的，有时候就是助力一个缘分罢了。</p><br/><p>04<br>不要以为我是社牛，我喜欢闭关，喜欢一个人呆着，喜欢一个人头脑风暴。<br>因为这样我才需要安排自己去接近他人、听听别人的故事、学习分享一点点自己。<br>只是每段时间我都很震撼，人们之间的交流是如此稀少又缺少耐心，聒噪的世界啊。<br><br/></p><p>05<br>瑜伽体位练习让我充分的感受到，将追求体位动作达成的形状作为首要激励是无法长久的，必然走向一种外显的偏激，因为将可量化的照片、他人的夸赞作为反馈机制的一环甚至唯一一环产生的自我循环是非常快和焦虑的，而人体的变化&#x2F;进步却是符合边际递减和阶梯式模型的，这样的期待就与现实有强烈的差距。</p><p>反而将不可量化的目标作为反馈信号是更加聪明的选择，因为无关外界环境的信息、那些人性中的比较与骄傲，只是关注自身的变化，因为自身变化而喜悦，可以让这整件事更加可持续地发展下去。</p><br/><p>06<br>因为单侧坐骨结节处的腘绳肌慢性拉伤，最近对所有动作在大腿后侧的感觉非常的敏感。小心翼翼地保护是有的，还给了我一种感官放大的魔法去体会各种体式在后侧的反应，细微的肌肉位置的差异，紧绷和收缩，我想我应该记下来，该死，我只顾着一直感受了。</p><p>在不断的练习中体验到喜悦与快乐。<br>接受身体的阻碍，外界给你的阻碍。<br><br/></p><p>07<br>肌肉是表面的连接，是我们运动中最先学习和实践的部分；然后呼吸是其次的一层，比较精微的连接，将身体空间连接起来；再深入是意识层面觉知层面的连接，是由不断专注于一处的实践深入到全身心的注意力，更加全知全觉的能力。</p><p>凡是不需要思考的，其实就很接近于内心，所以呼吸很重要，呼吸时引领我们外在身体和内心觉知的桥梁。我们第一步从专注呼吸开始，我们的体位姿势就开发发生了，吸气时伸展，呼气时稳定，这是自然而然的连接。</p><br/><br/><h1 id="学习与工作"><a href="#学习与工作" class="headerlink" title="学习与工作"></a>学习与工作</h1><p>在明媚的春天里不谈工作不谈学习，没有收获，只是按照计划行动<br><br/></p><p>这个月的一些好内容记录在这里 👇<br>书籍：</p><ul><li><a href="https://book.douban.com/subject/36681252/">《不忙不慌》林桂枝</a> 繁忙的打工人一定能找到共鸣，作者老职场人有洞见也有诙谐，这些日常收录的文字就像隔壁的同事一样，很轻巧的一本书</li><li><a href="https://book.douban.com/subject/35517223/">《罗素论幸福》罗素</a> 符合我的人生经验，这本书非常的活在当下</li><li><a href="https://book.douban.com/subject/35060088/">《德米安》黑塞</a>  这本书更适合我本人，哲学类就不推荐了，书籍真是神奇的东西，文字能重新唤起和抚慰曾经的自己并不是孤身一人，即使时空错开，只是遥望海面上依然有他人，内心就足以<br>财经</li><li><a href="https://www.xiaoyuzhoufm.com/episode/664c1a0a251bd96e6cb476af">市场里什么最贵？是价格上涨！谁赢他们帮谁</a> 我太喜欢南添老师在播客的风格了哈哈，本条内容关注国九条的分红政策设计，讨论了国内外的历史环境区别</li></ul><br/><br/><h1 id="生活与社交"><a href="#生活与社交" class="headerlink" title="生活与社交"></a>生活与社交</h1><p>01<br>见了很多老朋友，还认识了很多新朋友，还有一些被delay没见的，一阵子这样的感觉也不错，就是有点癫狂。毕竟我本身是一个非常平静的人，要我自己的话，恐怕一年都没几次激烈的开心。情绪被影响肯定是有的，有收到晚辈的感激和欣赏的小开心，也有收到长辈的好奇和关怀的局促，更多的还是平等的交流的愉悦。交流，还是很有意思的，只要不被人无视。<br><br/></p><p>02<br>认识了好多瑜伽圈的人，莫名开始接触到各种身心灵的资料，东西是好东西，但我还是少碰，就像郝哲说的，远离天人合一，自己定义人生课题，做实事。<br>一帮真的喜欢瑜伽的人，一直在瑜伽的人，不再是那些来了又走的流动人口，真切看到他们的样貌，看到同样不想追求高体的朋友和1年前的我如出一辙，看到运动上瘾的自己和老瑜伽人，看到忍不住想气馁但一直没有放弃始终在的朋友，我觉得这些都很好，只要他们一直在。</p><br/><br/><br/><br/><br/>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E7%94%9F%E6%B4%BB/">生活</category>
      
      
      
      <comments>https://blog.liluhui.cn/2024/05/31/202405/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Node process.on 事件监听整理</title>
      <link>https://blog.liluhui.cn/2024/05/06/node-process-on/</link>
      <guid>https://blog.liluhui.cn/2024/05/06/node-process-on/</guid>
      <pubDate>Mon, 06 May 2024 14:13:59 GMT</pubDate>
      
        
        
      <description>&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span </description>
        
      
      
      
      <content:encoded><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Begin reading from stdin so the process does not exit.</span></span><br><span class="line">process.<span class="property">stdin</span>.<span class="title function_">resume</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// only works when there is no task running</span></span><br><span class="line"><span class="comment">// because we have a server always listening port, this handler will NEVER execute</span></span><br><span class="line">process.<span class="title function_">on</span>(<span class="string">&quot;beforeExit&quot;</span>, <span class="function">(<span class="params">code</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Process beforeExit event with code: &quot;</span>, code);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// only works when the process normally exits</span></span><br><span class="line"><span class="comment">// on windows, ctrl-c will not trigger this handler (it is unnormal)</span></span><br><span class="line"><span class="comment">// unless you listen on &#x27;SIGINT&#x27;</span></span><br><span class="line">process.<span class="title function_">on</span>(<span class="string">&quot;exit&quot;</span>, <span class="function">(<span class="params">code</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Process exit event with code: &quot;</span>, code);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// can usually be generated with Ctrl+C (though this may be configurable). It is not generated when terminal raw mode is enabled and Ctrl+C is used.</span></span><br><span class="line">process.<span class="title function_">on</span>(<span class="string">&quot;SIGINT&quot;</span>, <span class="function">(<span class="params">signal</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Process <span class="subst">$&#123;process.pid&#125;</span> has been interrupted`</span>);</span><br><span class="line">  process.<span class="title function_">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// reserved by Node.js to start the debugger. It&#x27;s possible to install a listener but doing so might interfere with the debugger.</span></span><br><span class="line">process.<span class="title function_">on</span>(<span class="string">&#x27;SIGUSR1&#x27;</span>, <span class="function">(<span class="params">signal</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Process <span class="subst">$&#123;process.pid&#125;</span> received a SIGUSR1 signal`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// on Windows when the console window is closed, and on other platforms under various similar conditions. </span></span><br><span class="line">process.<span class="title function_">on</span>(<span class="string">&#x27;SIGHUP&#x27;</span>, <span class="function">(<span class="params">signal</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Process <span class="subst">$&#123;process.pid&#125;</span> received a SIGHUP signal`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// when the console has been resized. On Windows, this will only happen on write to the console when the cursor is being moved, or when a readable tty is used in raw mode.</span></span><br><span class="line">process.<span class="title function_">on</span>(<span class="string">&#x27;SIGWINCH&#x27;</span>, <span class="function">(<span class="params">signal</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Process <span class="subst">$&#123;process.pid&#125;</span> received a SIGWINCH signal`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// cannot have a listener installed, it will unconditionally terminate Node.js on all platforms.</span></span><br><span class="line">process.<span class="title function_">on</span>(<span class="string">&#x27;SIGKILL&#x27;</span>, <span class="function">(<span class="params">signal</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Process <span class="subst">$&#123;process.pid&#125;</span> received a SIGKILL signal`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// what about errors</span></span><br><span class="line"><span class="comment">// try remove/comment this handler, &#x27;exit&#x27; event still works</span></span><br><span class="line">process.<span class="title function_">on</span>(<span class="string">&quot;uncaughtException&quot;</span>, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Uncaught Exception: <span class="subst">$&#123;err.message&#125;</span>`</span>);</span><br><span class="line">  process.<span class="title function_">exit</span>(<span class="number">1</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      
      <comments>https://blog.liluhui.cn/2024/05/06/node-process-on/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>2024 年 4 月总结</title>
      <link>https://blog.liluhui.cn/2024/05/03/202404/</link>
      <guid>https://blog.liluhui.cn/2024/05/03/202404/</guid>
      <pubDate>Fri, 03 May 2024 03:15:18 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;乞丐死时不会有彗星滑过，&lt;br&gt;星空只为王子的离去闪耀。&lt;br&gt;人心就是这么傲慢。&lt;/p&gt;
&lt;h1 id=&quot;所见与所想&quot;&gt;&lt;a href=&quot;#所见与所想&quot; class=&quot;headerlink&quot; title=&quot;所见与所想&quot;&gt;&lt;/a&gt;所见与所想&lt;/h1&gt;&lt;p&gt;01&lt;br&gt;&lt;st</description>
        
      
      
      
      <content:encoded><![CDATA[<p>乞丐死时不会有彗星滑过，<br>星空只为王子的离去闪耀。<br>人心就是这么傲慢。</p><h1 id="所见与所想"><a href="#所见与所想" class="headerlink" title="所见与所想"></a>所见与所想</h1><p>01<br><strong>当技术变得隐形的时候才是最强大的。</strong> 我们现在在这个房间当中有大量的技术存在，比如电灯、水管、风扇、通风管道等，我们意识不到他们的存在，这意味着这些技术已经成功了。同理，我们一直在谈 AI，说明它还没有成功，如果说我们已经无法意识到 AI 的存在了，那么就说明 AI 成功了。<br><br/></p><p>02<br>有一种说法劝诫人们要关爱自己的身体健康，它说道“健康是 1，其他所有成就、财富、爱情等等都是后面的 0”，它构建了一种认知模型是你必须要追求健康才能享受后面的一切。最近我对这个构建有了些新的想法，我想或许健康不是 1，健康是 100，请把这 0-1 的尺度拉大到更宽旷的 0-10、0-100、甚至 0-1000。我想我们的健康初始是 100 分那当然很好，但活着并不是为了健康，每个个体的精力总是有限的，我们应该追求的东西绝对不应该是健康，舍弃 20 分的健康是为了其他领域的东西，80xxxx 也是很不错的状态，60xxxx 当然也不错，只是当忽略舍弃到一定的程度，比如 20xxxx，那么人生的总体体验分就会非常低，所以，放手去做一些事情吧，受伤没什么关系。</p><p><strong>追求健康不可过度，和不健康的自己长期共存没有什么问题的，我们可以有这样的预期。</strong><br><br/></p><p>03<br>回过头看这两年自己身上的变化好像很大，外显上来说是的，我得到了一些不同方面的认可和欣赏，这与原本靠技术实力办事能力得到的完全不一样，好像是从那种外溢的能量与热情中得到的肯定，我想这是真诚的力量，破除外界的礼貌与界限，放下莫名的敏感猜测，把人当人。</p><p><strong>想要做事情的人，不甘于麻木的人，会彼此欣赏彼此激励。</strong><br><br/></p><p>04<br>家长能给孩子一辈子的确定性也挺好，在确定性中做到极致，认可你灌输的目标和使命。最怕父母给的目标是阶段性的，是短视的，然后孩子会忽然置于一种剧烈不确定性中，就像平地在走的路忽然看不清了，下一步子不知道迈哪不会摔。<strong>从来没设想过也想象不到，原来路面除了有石子会磕绊有结冰会摔倒，还会可能消失，还会可能有断崖。</strong></p><p>从小有父母给的学习目标，有环境给的精神支持，但是最终目标只是让孩子在 20 岁离开父母的环境去更宽广的天地。恕我直言，恐怕他们根本不知道这一生应该给孩子什么样的引导。</p><p>有些话太政治正确了，比如“好好读书总不会错的”。但我想，确实可能是错的。<br><br/></p><p>05<br><strong>知识是有诅咒的</strong></p><p>这句话不止是说你不知道自己知道什么<br>这句话还说了因为你的知道而构筑了践行的防护网<br>这句话还说了因为你的相信而失去了其他的可能性</p><p>问题到底出现在哪里？<br>出现在信任他人总结出来的路径。<br>出现在你竟然觉得自己可以绕过那些坎坷。<br><br/></p><p>06<br><strong>懒惰 与 勤快 的辩论思考</strong></p><p>在日常聊天中谈及的“懒惰”呈现一种矛盾性。一类情况我们在说因为懒惰所以不做某些事，比如“懒得叠被子反正晚上还是要展开的”，另一类情况我们在说因为懒惰所以把某些事做掉了，比如“懒得每次去找是哪一集所以对所有剧集进行了信息标注”。而这两种情况竟然覆盖了所有的人类行为，即“不做”和“做”，那我们究竟在讨论什么懒惰呢。</p><p>坊间有一句名言 “懒惰是技术发展的第一驱动力” 其实说的就是第二种情况，因为不甘于某些现状而不断发展的技术给我们带来了很多的便利，这种语境下“懒惰”成了一种好词。</p><p>另一些情况下，勤快的人也需要“刻意懒惰”，因为做不完的事情会不断积累压力，这种压力需要一些懒惰的时空去释放。</p><p>那么，人们想讨论的似乎不是懒惰本身，当我在说某某懒惰时，其实我映射了一种观点是“我认为这个情景下的这件事情应该被做”，这才是重点。</p><p>所以，当你听到别人在不同情景下说你懒惰时你的情绪反应是如何的呢。</p><p>所以，当你在说自己懒惰时，你说的是自我的安慰、还是自我的期待，还是环境的期待呢。<br><br/></p><p>07<br>倒不如说愚蠢的人的头脑不过是执行机器，他们错把路径当成了目的，遵循身体发出的本能渴望，经由头脑的“思考”将达成的路径当作了自我确立的目标，但他们从不质疑这背后究竟是什么。<strong>没有反骨的人，是很痛苦的。</strong></p><p>但谁又说咱不是五十步笑百步呢，我也很愚蠢。</p><p>死的恐惧、爱的渴望，探究到底的人性不是为了推翻它，也可以是为了推翻它。我想选择，选择大部分的臣服和一点点的反抗，好像这样的人生比较好玩。<br><br/></p><p>08<br>成年人的世界，想要构建新的深度关系挺难的。一方面好像是因为我们过于期待通过朋友来抵达亲属间的深度，不是说血浓于水那样的东西，而是存在那么些人，想找时就能找，想倾诉时就能倾诉，<strong>难</strong>。<br>想要深交的人，就得主动地一次次构建机会，除非有那么个现成的且永远可以持续下去的环境，就像兴趣班总会散场，考试总会结束，想要构建一个稳定交往的环境，<strong>难</strong>。<br><br/></p><p>09</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2024/05/03/20240503104753.png" class="" width="500"><p>这是在日本某趟铁轨上拍下的对坐的陌生人，当时正是黄昏，天空远比这记录下的照片宽广和多彩，他们疲惫又亲昵的姿态，让人感觉很美好。</p><p>想想在摇摇晃晃的地铁上，有一个让人稳定和舒服一些的依靠，带着气息、脉搏、温热的触觉，不用什么思考，只是挽过来就靠下了，亲昵的感觉真好。</p><p>很多时候我们确实脑子走的太快，害怕又期待进入一段关系，爱人、朋友、老朋友、陌生人，羡慕什么都不想直接就能行动的人，羡慕充分拥有直觉又不愚昧的人。<br><br/><br><br/></p><h1 id="学习与工作"><a href="#学习与工作" class="headerlink" title="学习与工作"></a>学习与工作</h1><p>01<br>实践了一段实践的子弹日历和 IdealWeek 规划，理想周这个方法挺好的，比起之前的时间块对于每周这个粒度上的时间掌控更有数也更有弹性。在第一期做 IdealWeek 就发现自己的时间分配比例有问题，这段时间投入在个人兴趣上的时间太多了，虽然被个人兴趣爱好带着走是个很不错的状态，但是眼下确实是有重要的长期目标，而我每周也确确实实需要投入更多时间，看到自己的纠结，好不甘心又只能接收，人的精力总总总是不够啊。<br><br/></p><h1 id="生活与社交"><a href="#生活与社交" class="headerlink" title="生活与社交"></a>生活与社交</h1><p>01<br>围绕瑜伽认识了形形色色的人，有和我一样忙碌的，也有工作退休运动上瘾的，有焦头烂额靠药物入睡的，也有探究自我遁入道家的，奇奇怪怪也非常有意思，莫名也锻炼了我的社交能力，也越发让我感受到我所知道的话题数量之少.. 虽然但是，我喜欢这种少，但或许也带着傲慢吧。<br><br/></p><p>02<br>杭州连绵的春雨，爬山计划反复搁置，嗯，以后四月还是首先安排饭局靠谱。<br><br/></p><p>03<br>欸，四月好像没啥娱乐，瑜珈瑜珈瑜珈 …<br><br/></p>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E7%94%9F%E6%B4%BB/">生活</category>
      
      
      
      <comments>https://blog.liluhui.cn/2024/05/03/202404/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>2024年3月总结</title>
      <link>https://blog.liluhui.cn/2024/04/01/202403/</link>
      <guid>https://blog.liluhui.cn/2024/04/01/202403/</guid>
      <pubDate>Mon, 01 Apr 2024 14:02:43 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;Make every day counted.&lt;br&gt;I like this sentence.&lt;/p&gt;
&lt;h1 id=&quot;所见与所想&quot;&gt;&lt;a href=&quot;#所见与所想&quot; class=&quot;headerlink&quot; title=&quot;所见与所想&quot;&gt;&lt;/a&gt;所见与所想&lt;/h1&gt;&lt;p&gt;01</description>
        
      
      
      
      <content:encoded><![CDATA[<p>Make every day counted.<br>I like this sentence.</p><h1 id="所见与所想"><a href="#所见与所想" class="headerlink" title="所见与所想"></a>所见与所想</h1><p>01<br>好难好难好难去在当下表达我非常非常非常的开心和喜悦，冲动地想让所有人都知道的快乐，瞬间就会想到和担心他人的处境，基于他人的处境下我的开心或许是刺眼的，而这又会给我带来麻烦。我还记得小时候给自己的人生信念是“我要不管不顾地活着”，某种角度来说我觉得我到了，某种角度来说意识到了无法不管不顾也让我坚定了一些“退让”，或者说我心甘情愿想要顾着，好像，我的亲密关系间的滋养也是在这些过程中产生的。<br><br/></p><p>02<br>“你和你的朋友在不知不觉中一起走向了愚蠢的虚无、失败和痛苦，为了一时的享乐而牺牲了未来。你们心照不宣地约定，要避重就轻地活在当下的放纵里，并且不要点破彼此的这种行为，这样双方都可以更轻松地逃避责任。” —— 虽然作者这段话就是在描述小时候的我，但我依然想争辩一下，将社会意义上非常重要的事情踩于脚下的放纵其实是非常充满力量的，而这种团体共识更是一种“宗教”式的连接，选择虚无并不愚蠢，选择虚无也是一种真相，只是选择虚无确实不聪明。<br><br/></p><p>03<br>我们对于传统、宗教等大众共识文化的革命和远离，最开始是为了避免很多的极端冲突，但是看起来，越来越多人正面对无意义感的痛苦，文明社会真的进步了吗。就如幸福度调查的社会学统计数据一般，这看起来毫无进步可言，如果我们的方向是追求人民幸福&#x2F;满意的话。<br>很多朋友可能觉得我是技术革新派，其实算不上，我只是觉得我还担不起这个社会责任，我算个什么呢，十年一瞬的人类历程中，我想我啥都算不上，我只是不去将庞大的话题影响我的冲动罢了，研究新技术，是件好玩的事情，就这么简单。<br><br/><br><br/></p><h1 id="学习与成长"><a href="#学习与成长" class="headerlink" title="学习与成长"></a>学习与成长</h1><p>01<br>完成了瑜伽 RYT200 的学习啦，从此我也成了一名持证的瑜伽老师，虽然我还并不打算当一个老师。从现在开始，更加认真地对待瑜伽的习练，更多地研习经典，下个十年，希望我能不断地遇到新问题。<br><br/></p><p>02<br>工作部分先保密 wow 🤫<br><br/></p><h1 id="生活与社交"><a href="#生活与社交" class="headerlink" title="生活与社交"></a>生活与社交</h1><p>01<br>去日本玩了一周多，充满了未知的惊喜，明明在这地球的尺度上也算不上遥远，眼前的一个个脸庞却充分明显的属于”外国人”，虽然都是黑毛黄皮，整体又透露出一种不一样的气质，更加沉稳和艺术，更加精致和疏远。<br>在中国看不上的礼品店因为在足够遥远的土地上而倍感新奇，当然看得出来这个景点与那个景点的商品大同小异，却也变得有了乐趣，忽然动了想要学会逛街的念头。<br>夜里街头年轻人的欢笑声，拉面店里安静又隔离的窸窣声；随手拿起的手册可爱又细节，走在路上随处可见的涂鸦与贴纸，竟也乖巧地避开了所有传递“有效信息”的地方；服务员的轻声细语卡哇伊，电影院里隔着座的静谧无言。 —— 我看的日本，精神状态分裂的厉害，文明究竟带来了什么，文明的程度又该在哪里平衡 …<br>穿上和服走在寺庙&#x2F;庭院间，感觉整个人也拘谨了起来，可以整个群体一起度过某种仪式真不为一种生活的乐趣，真应了解集体、进入集体、成为集体，仪式感是构建集体的好东西呀。<br>更喜欢现在的生活了，大学后看到更多的人和地方，越来越觉得此时此刻的生活真的很好，不完美，不优秀，不有钱，不健康，但是，挺好~<br><br/></p><p>02<br>最近因为瑜伽不断的在认识新的朋友，虽然也都是淡淡之交，有些可惜又很欣慰，感谢自己，感谢大家，我不断向外传达的正在不断的应验和增强 —— 主动的关系才是真实的关系，真诚且真实。<br>也是在最近的关系中，确实通过他人的反应看到自己的某些特性。<br>像是强调数字与逻辑，在工作环境和伴侣环境内非常自然，但对于瑜伽朋友们来说非常特别，因为思维习惯的不同，我们的信任来源差距非常大，大家更信任经验直觉作为事实，我自认为是结合直觉与数据逻辑。<br>另外，一些朋友很需要通过他人的夸奖来认可自己，他们同时也会非常积极的夸奖他人，我看到他们确确实实因为被夸奖而开心，可隐约间我总觉得真诚的看见他人和夸奖他人不是那么浮于表面的事情，我做不来，也不喜欢。<br>还有，烦恼甚至痛苦可以被言说和讨论，但是期待太高。不同人间的处境差距实在太大，我的烦恼也会成为他人眼里的炫耀，也会成为他人眼里的毫无必要，这些看似很宽容的人，嘴里言说着宽容的人，探讨着身心合一和放下执念的人，似乎只是懂得了很多道理和急着想要表达这些醍醐灌顶的道理。谁有时间真的去充分了解另一个人的人生经验呢，那不现实。<br><br/><br><br/></p><h1 id="理财与投资"><a href="#理财与投资" class="headerlink" title="理财与投资"></a>理财与投资</h1><p>越来越多公司喊出 ALL IN AI 了，时代的小浪已经开始暗流涌动，大浪何时拍打而来还不可知。这次，有些底层非常不一样的变革。一是 AI 将带来更多不确定性，虽然现在各个业务都想接入 AI 到现有流程中，但 AI 的不可知性是很难完全控制的，我们需要一个引子打开这一充满创意的新世界，抛离确定性的流程，现在这个奇点还没到，因为论惊艳程度还未到 iphone4 的时刻。二是世界将越来越多极化，冲突将无法避免，极端主义只会越来越盛行，短平快依然会在大市场延续和发扬，深入和细节也会四处扎根，很难说这是好事啊。<br>今年 GDP 定了 5%左右，千年因为低基数还算好实现，现在这经济环境今年得更多政策发力了，基本紧盯 Q1Q2 出台的政策，尤其楼市这块得及时观察市场数据。<br><br/><br><br/><br><br/><br><br/><br><br/><br><br/></p>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E7%94%9F%E6%B4%BB/">生活</category>
      
      
      
      <comments>https://blog.liluhui.cn/2024/04/01/202403/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>2024年2月总结</title>
      <link>https://blog.liluhui.cn/2024/03/01/202402/</link>
      <guid>https://blog.liluhui.cn/2024/03/01/202402/</guid>
      <pubDate>Fri, 01 Mar 2024 14:39:47 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;重复，重复，重复吧。&lt;br&gt;重复后才有理解，相信直觉！&lt;/p&gt;
&lt;h1 id=&quot;思考&quot;&gt;&lt;a href=&quot;#思考&quot; class=&quot;headerlink&quot; title=&quot;思考&quot;&gt;&lt;/a&gt;思考&lt;/h1&gt;&lt;p&gt;01&lt;br&gt;自由时间太多会让人极度不舒服，符合我及身边人的经验直觉，9</description>
        
      
      
      
      <content:encoded><![CDATA[<p>重复，重复，重复吧。<br>重复后才有理解，相信直觉！</p><h1 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h1><p>01<br>自由时间太多会让人极度不舒服，符合我及身边人的经验直觉，996不是没有道理的，在把有能力的人累趴之前，这个人是非常充实的，要称之为“福报”也尚不可。我身边确实有明显的两拨人，在工作强度很高的环境下充分爽的人，以及抱怨耗尽的人，这里的度或许只差每天多1小时的自由时间。—— 谨慎所有 kill time 的活动，那只是用最偷懒的方式说服自己的精神世界我有可掌控的时间。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2024/03/01/20240301221709.png" class="" width="500"><br/><p>02<br>随着年纪渐长，接触的人越多，越发现太多成年人都不喜欢自己，越是不喜欢自己的人表现上就是有更多的渴求，渴望权力的认可、渴求被爱的密切、渴求被看到的羡慕，然后活的越来越狭隘、越来越不自在，越来越丧失一种真诚的能力，有些可悲。</p><br/><p>03<br>小而美的企业，安全的现金流、赚最有效率的一部分的钱；大而强的企业，增长的资产负债表滚动起发展的雪球，布局方方面面构建垄断。前者像个身体健康的普通工人，只要环境还需要ta就可以安安心心的干下去；后者像个努力拼搏的潜力股，只要身体素质能撑住，就能干到大领导。没有谁对谁错，作为个体，打工就是组织这个群体中的一个细胞，拼搏总是比稳妥的代价更高点，但收益也是同比的。<br>不过我觉得我多少还是年轻，可能也不太有经验资格说这句话，毕竟人到50之后，带着慢性疾病是什么样的感觉只有到时候了才有体感。但是，谁又能说准平平安安到那个年纪呢。拼搏呗，有何不可！</p><br/><br/><h1 id="学习与成长"><a href="#学习与成长" class="headerlink" title="学习与成长"></a>学习与成长</h1><p>01<br>这期的瑜伽培训快结束了，要说学到了什么，最有收获的还是知识结构，感谢有认真的老师的教导，打开了一个庞大经验科学的大门，这里包容万物。瑜伽作为一个几千年的概念，它经历过各种宗教，邪恶的、向善的；经历过各种环境，集权的、暴力的、部落的、商贸的。它由许许多多前人发展、迭代、变种，变成了今天这个样子，这样的庞大的叙事吸引了一波又一波的人。瑜伽提供了一种切实可行的开发身体的、控制心意的路径，其实和其他路径也是相同的，比如中医、道法、心理学… 就像芒格说的，学的多了，思考的多了，很多事情是用同一个道理可解释的，很多道理又都是不同领域的同义表达，这时候我们就找到了一种更高层次的思维模式。</p><br/><p>02<br>心潮澎湃的新时代，过年期间 SORA 横空出世，效果真的让文生图的商业落地进度又迈进了一大步。这5年是 Transform大模型 的黄金发展时期，有太多的资料要看，有太多想法要思考，有时候真想轻装上阵啊，羡慕那个说“我从来没有沉默成本”的人。</p><br/><br/><h1 id="生活与社交"><a href="#生活与社交" class="headerlink" title="生活与社交"></a>生活与社交</h1><p>01<br>春节放假了两周，因为地域变化被割成了四段生活，工作、老家、旅行、工作。越来越从内心感受到，呆在每日所处的环境里就很好，不需要外界新鲜环境的刺激，每天已经有足够多让我心潮澎湃的事情了，而旅游将我几乎彻底地抽离了，来到另一种状态，却无法长时间停留，我还是要回归我的日常，我的主线，岔开路走走很好，但是带来了焦虑，就让回到主路的自己步伐匆忙骂骂咧咧，总归有些不对劲。</p><br/><p>02<br>喜欢武夷山的空气，感觉整个身体都充满了湿润饱满的气息，是那种血氧含量很高的感觉，气息更加贪婪了。想来住在边长也有很舒服的一面，早上走走，晚上走走，神清气爽，杭州大马路的空气实在太差啦。</p><br/><p>03<br>接连出现一周的暖阳让我又想买衣服了，今年神奇地整个冬天都没买衣服，我还以为我在这方面的热情总算消磨殆尽了，没想到只是冬眠了欲望，我以为消失了，一些温暖的天气就让它死灰复燃了，还是会想要有美美的念头呐。</p><br/><br/><h1 id="理财与投资"><a href="#理财与投资" class="headerlink" title="理财与投资"></a>理财与投资</h1><p>01<br> <strong>世界是一个魔幻游戏。如果真相的威力不够巨大，世界可能未必会多看真相一眼。</strong></p><blockquote><ol><li>美国的CPI中枢几十年来一直是4%，但投资者心目中CPI的交易中枢一直是美联储说的2%</li><li>美国股市一片繁荣，但除去“超级7”的其他公司合起来还跑不赢美债收益率</li><li>以罗素2000为代表的“弱小”公司分不到美国财政放水的钱，超过800家公司在亏损；整体FCF Yield不到2%，吸金能力还不如美债</li><li>价投基金在去年四季度开始卖出美股，全球热钱却在之后助推“超级7”疯狂上涨，让英伟达一枝独秀</li><li>截止上周日，美股全市场有六千多家上市公司，从周成交额来看，前10家占了1&#x2F;3，前63家占了50%，市场越涨越窄</li><li>以日元计价的日股在创新高，但相对美元贬值会让投资收益折损六成（参考巴菲特2024年致股东信）</li><li>全球资金疯狂融入日股，但日本最大的10只公募基金全部投向海外市场</li><li>2023年底的A股已具备结束熊市的充分条件，市场却要等到揭开神秘买家的面纱后才开启连涨，否则就永无止境地下跌</li></ol></blockquote><br/><p>02<br>合成谬误无处不在，需要反复提醒自己数字规律是启发探究的依据，却不能是做出决定的原因。</p><br/><p>03<br>在每一波财富鼓起的时段里，都会产生要不要离职花更多时间投资理财的冲动。</p><br/><br/><br/><br/><br/><br/>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E7%94%9F%E6%B4%BB/">生活</category>
      
      
      
      <comments>https://blog.liluhui.cn/2024/03/01/202402/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>2024年1月总结</title>
      <link>https://blog.liluhui.cn/2024/01/31/202401/</link>
      <guid>https://blog.liluhui.cn/2024/01/31/202401/</guid>
      <pubDate>Wed, 31 Jan 2024 13:24:28 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;😷😷😷&lt;br&gt;💤💤💤&lt;/p&gt;
&lt;h1 id=&quot;思考与探索&quot;&gt;&lt;a href=&quot;#思考与探索&quot; class=&quot;headerlink&quot; title=&quot;思考与探索&quot;&gt;&lt;/a&gt;思考与探索&lt;/h1&gt;&lt;p&gt;01&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;增长或者说发展，掩盖了很多的问题</description>
        
      
      
      
      <content:encoded><![CDATA[<p>😷😷😷<br>💤💤💤</p><h1 id="思考与探索"><a href="#思考与探索" class="headerlink" title="思考与探索"></a>思考与探索</h1><p>01</p><p><strong>增长或者说发展，掩盖了很多的问题。</strong></p><p>对于企业内是这样，对于个人也是。有时候想转移一些问题，那就构建增长出来。如果增长将不可持续，很多问题都必须实打实地面对。</p><br/><p>02</p><p><strong>瑜伽的正位是给打破惯性的指导标准，但每一个持续习练者，早晚都会突破它。</strong></p><p>这一过程和瑜伽哲学是一致的，不断的打破执念再构建执念，从小执发展向大执，但只要还在这一轮回中我执本身就是轮回。</p><br/><br/><h1 id="生活与娱乐"><a href="#生活与娱乐" class="headerlink" title="生活与娱乐"></a>生活与娱乐</h1><p>半个多月都在生病的颓废中，在那个状态中整个人根本提不起劲，每天早上一身虚汗，起不来，没有能量动弹，一边原谅自己该好好休息，一边又因为无能事事懊恼烦躁。</p><p>这次生病来的很突然，睡眠中突然的胃痛，被饥饿感直接弄成了急性胃炎，这么多年胃部都健健康康一下都不知道该怎么办。整个人发着烧，胃部又被揪着，什么都思考不了真是糟糕。然后就是胃差不多缓过来的那几天，身体还有些虚寒，忽然又感染了什么病毒，从喉咙痒和疼变成了持续的高烧和咳嗽，总之也是难受地活着，现在还没好透。</p><p>想想虽然身体很难受，但是昏沉着窝在被窝当个废物也非常的温暖，抛开这些那些的自我约束，只是呆在活着这种状态中，欲望和期待都变得小了许多。</p><br/><br/><h1 id="学习与成长"><a href="#学习与成长" class="headerlink" title="学习与成长"></a>学习与成长</h1><p>在两次生病的中间党在公司内做了次关于AI Agent的实战分享，收获到了一些支持，也启发我在目前的技术生态下该着重去研究什么。之前提示工程也看、大模型训练也看、RAG觉得可以落地、文生图也想玩、视频生成3D生成都想了解，兜兜转转结合企业发展的落地却完全不够，这才是问题，还是得回归到目标指导动作上。</p><p>我觉得等着大模型的“推背感”多少还是让人不安心，推力来的时候大家都有动力，凭什么是我们做成，虽然说多做准备可能会是无用功，糟糕点还会成为沉没成本，但是这一过程对于构建信心是必不可少的。</p><br/><br/><p>趁着这次生病中的习练，能很明显地感受到自己对身体的觉察确实有变化，以往除非特别明显的表征，发烧、鼻涕这种，我很难关照到自己是不舒服的。但现在确实不同了，我能感受到自己的身体变得沉重一些，内脏的下垂感，呼吸的空间感减少，头脑中微妙的晕眩感，混杂着出汗的一种虚弱感。</p><p>瑜伽教培学习这个月开始进入了模拟课堂，第一次的表现还不错，对于如何去做一节课有了更具体的紧张感，不经历这段时间的反馈意识到自己的特色是能给人安稳感，来源于声音中的镇定和动作中的力量。</p><p>作为瑜伽老师，在课堂上引导学员的人，要做到</p><ol><li>声音和眼神，坚定且放松，传达积极的情绪和能量</li><li>示范动作，自己要做的标准，注意自己的惯性错误</li><li>观察学生的程度，针对性的讲解基础概念</li><li>观察学生的程度，给到体式的分层引导和目标</li><li>恰当地引导发力细节，不一味输出，恰有所需时点拨</li><li>课堂中走路轻，不能显得匆忙</li></ol><br/><br/><h1 id="投资理财"><a href="#投资理财" class="headerlink" title="投资理财"></a>投资理财</h1><p>市场非常非常惨淡，上证已经到了 2700 点的保卫战，小道消息的平准基金始终没有落地，资金抱团在中字的价值股上，科创都下 700 点了，按照我的仓位计划科创已经建仓六成了，真的是没想到这么快就快到位了。最近全靠北交所的票盈利，市场跌倒这个位置上，不知道时间窗口还会多久，但我体感割肉离场的声音还不够多，可能都是底部装死了。</p><br/><br/><br/><br/><br/>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E7%94%9F%E6%B4%BB/">生活</category>
      
      
      
      <comments>https://blog.liluhui.cn/2024/01/31/202401/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>2023年12月总结</title>
      <link>https://blog.liluhui.cn/2023/12/29/202312/</link>
      <guid>https://blog.liluhui.cn/2023/12/29/202312/</guid>
      <pubDate>Fri, 29 Dec 2023 12:21:32 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;冬日，暖洋洋，冷飕飕&lt;br&gt;七天连轴转，回到大学时&lt;/p&gt;
&lt;h1 id=&quot;思考与探索&quot;&gt;&lt;a href=&quot;#思考与探索&quot; class=&quot;headerlink&quot; title=&quot;思考与探索&quot;&gt;&lt;/a&gt;思考与探索&lt;/h1&gt;&lt;p&gt;01&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;瑜伽</description>
        
      
      
      
      <content:encoded><![CDATA[<p>冬日，暖洋洋，冷飕飕<br>七天连轴转，回到大学时</p><h1 id="思考与探索"><a href="#思考与探索" class="headerlink" title="思考与探索"></a>思考与探索</h1><p>01</p><blockquote><p>瑜伽经中认为“无明”是一切痛苦的根源，因它产生我见、执着、厌恶、贪生怕死…</p></blockquote><p>某个顿悟，对某事物认知的”无明（avidyā）“只需要回答这两点</p><ul><li>你<strong>相信</strong>它是简单的还是复杂的？</li><li>你<strong>认为</strong>它是简单的还是复杂的？</li></ul><p>在一次次与他人的交流中，反复验证着这个判断。”向明“的状态是有明显的共性的，即认识到事情远比个人可认知的范围复杂，并不断去深化认识和思考这种复杂性。</p><p>反过来说，以我有限的人生经历，我发现人们有时口头说着明白事情有多复杂，但是底色上依然是不愿意相信的。 —— “亲密关系很复杂啦，求姻缘很有用的。” 而有时候人们相信一件事情很复杂，却想用最标签化&#x2F;简化的方式对待它。—— “中医是个复杂的学问，你这个情况这么补就好啦。”</p><p>或许这个判断标准也可以这么说，</p><ul><li>你的<strong>理性</strong>充分明白事情的复杂性吗？</li><li>你的<strong>直觉</strong>充分接受事情的复杂性吗？</li></ul><p>我想，这一切还有一个最原始的点，你相信万事万物都具有你无法掌握的复杂性吗？ —— 而这是一个事实。</p><br/><br/><p>02<br>在瑜伽经文的学习中粗浅地探讨了<strong>一元论与二元论</strong>，正好最近听了孟岩的一期播客也聊这个话题，真实世界很少有非此即彼，这大多出现在语言上，而语言的表达又与思考相互影响着，为什么很多事情不可说，因为语言呈现的上下文语境总是是有限的。</p><p>手臂上举的时候，老师会说肩膀下沉&#x2F;肩胛骨下沉，但是这个时候肩胛骨怎么可能真的是往下的呢，你的双手上举着，肩胛骨相对正位情况下来说必然是向上的。那为什么要说这个话，因为太多人过度向上了，以至于脖颈没有空间，颈椎遭到长期压迫反而受伤。可是课堂的语句的空间是有限的，你说这句就没有空间说那句，那你选择说哪一句来引导学生。</p><p>而这样的情况在课堂里比比皆是，足弓到底是上提还是下压，髋关节到底是外展还是内旋.. 我已经看到很多老师在纠结了，他们开始意识到说一些话是”不正确“的，可是他们忽略了语境。所以语言就变得很奇妙，你说单腿站立时”足弓上提脊柱延展“是对的，你说”足弓扎实踩地稳定身体“也是对的，可这两句话截然相反。 —— <strong>这世间的很多道理不都这样，名人名言正反面都可以信手拈来，那你怎么用这些“先人的智慧”呢。</strong></p><p>很多人就是困住迈不出去了，这也行那也行，那我就随便选一个舒服的，很多时候，我也是这样，而这一切都是不为外人所知的。</p><p>跳出一元论之后还要跳出二元论，都是需要”明“的，需要不断认知到更真实的世界，需要判断的智慧。</p><br/><br/><p>03<br>瑜伽习练中，大家会羡慕那些从最初“卡点”就很少的人，即使没有多少力量，也很快达到轮式、下巴倒立等等高体的预备条件，而大多数人需要很多年来一步步打开自己的瓶颈。<br>可这些幸运儿真的幸运吗，每个人都有进步中的卡点，可是因为起始点高，就难以和大多数人平等地交流，轻而易举的某些开始，丧失了与平凡的深度连接。</p><p><strong>或许，往前看，给自己更高的目标去追寻，不要被平凡的美好诱惑沉沦</strong>。</p><br/><br/><p>04<br><strong>永远挑最感兴趣的做！</strong><br>而不是惯性地清理掉”杂事“，再沉浸做”主干“，精神都被耗尽了。<br>能量很重要！<br>看最想看的资讯<br>学最想学的东西<br>玩最想玩的活动<br>吃最想吃的食物<br>接受被”放逐“的待办，修行 修行 修行。</p><br/><br/><p>05<br>有趣的体验不必提效。<br>问问自己，究竟是要优化效率，还是优化发现。</p><p>我在说的是，一举多得 和 如其所是 也是一组选择。</p><br/><br/><br/><br/><br/><h1 id="生活与社交"><a href="#生活与社交" class="headerlink" title="生活与社交"></a>生活与社交</h1><p>01<br>忽然迎来了冬天的寒意，狗子和我都贪睡了，不想起床，温暖的被窝真是罪恶，每晚都在说梦话或是踢被子，每天都有笑料。看不懂近来的天气，前一天零下瑟瑟发抖、后一天中午20°热的人发汗，感冒和中招的人一波又一波，自己的免疫倒确实强壮了。<br>睡眠变得更久了，慵懒地不想打坐，连狗子都不肯起来跟我一起窝在暖气书房里，清晨的精气神里多了不少堕性。<br>下午五点的阳光开始变得刺眼，落日的灿灿金光，挡不住的射到屏幕上，站起来倒杯水，写字楼里的落地窗总是一个美好的落日取景框，站在那里，看看还不太忙碌的马路，落日总是挺美好的，看着充满希望，可惜很快就会乌漆嘛黑。<br>这个月都没怎么能好好吃饭，几顿回到家暖暖的锅炉放着现煮的蔬菜很奢侈。</p><br/><br/><p>02<br>因为瑜伽学习和习练认识了几波新朋友，和老师间的交流也变多了。很奇妙的体验，互不熟识的人，一起学习瑜伽经文，把各自的经历与想法和经文做结合分享，在一次次体式习练中分享自己的发力和觉知，怎么说呢，一群认真生活的人，一群想要解决问题的人，很可爱，很鲜活。</p><br/><br/><p>03<br>又过了一年的生日，好像是到30了吧，挺好的。感觉人生将将来到开始成熟的美妙年纪，有好多事情想做，有好多事情可以做。好像这些年拥有的越来越多了，贪恋的也越来越多，明年要更多放下一些惯性，认真的存在。<br>收到了几个朋友的礼物，成年人挑礼物是真的变难了呀，想要分享美好的人确实变少了，朋友们，这事应该纯粹点了。<br>连续忙碌的日程里请了一天假期放松，和郝哲闷头在桌前拼了整整半天的木制地球仪，现在把它放在卧室的角落里，夜里常常亮着，有一丝宁静的意味。还出门了趟门去边上看了360°的展览，平面设计的艺术离商业还是挺近的，中国消费和品牌确实是发展了。</p><br/><br/><br/><br/><br/><h1 id="学习与成长"><a href="#学习与成长" class="headerlink" title="学习与成长"></a>学习与成长</h1><p>01<br>从上个月开始的瑜伽教培，双休从早到晚待在馆里学习，渐渐习惯这样的练习强度了，尤其这个月开始单腿站立和平衡类的，当天都是以为自己练废了，想不到睡一觉整个身体就全回复了，我，确实比我以为的更强了。<br>收到了很多的正反馈，不论是老师还是伙伴，在这方面似乎有一些先置的优势，包括身体条件、觉知力、表达力。甚至开始真的会想象一下，我会去当老师吗。<br>头倒立在这个月有了非常显著的进步，肩背的发力空间大大的被开发了，就是曾经只有”要翻”和”不翻”的感知粒度，但是现在在各个方向上的控制粒度可以足够让我安心了，甚至可以主动去卸掉很多发力待在那个位置。这是不断深入的习练带来的收获，是有空间的自由，是喜悦。</p><br/><br/><p>02<br>大量地在测试各种AI产品，我现在非常好奇未来的交互模式会是怎么样的，我现在非常清楚地感受到只是把原先的互联网产品链路+AI是不可行的，一方面收费模式会很别扭，另一方面AI呈现的特质与传统软件本质是完全不同的，生搬硬套用户难受产品团队也难受。同时，也通过大量尝试把我的工作流程做些改造迭代，接收些先进性。这一块经过一个月也算沉淀了一些card，同步也尝试在朋友圈发发声链接下相关的人。<br>另外，我感受到全力做AIGC商业有些痛苦，确定性的事情是交给了AI，但是不确定性和等待几乎占满了人的时间。你说上色枯燥，但是有目标不断做的过程其实很沉浸。但是做商业目标的AIGC，不停地测试和挑选真的挺消耗人的。（我观察了下大伙都是边上放个视频娱乐..）</p><br/><br/><br/><br/><br/><h1 id="工作与发展"><a href="#工作与发展" class="headerlink" title="工作与发展"></a>工作与发展</h1><p>本月集中在做AI准确率的评估与校验，基本流程已经稳定下来了，现状是产品开始运营，还需要更多的用户案例持续迭代准确率。<br>一部分AI应用层在做的就是概率优化，希望无限接近100%。<br>就像我前面说的，有些事情挺别扭的，要我不会这么干，但咱现在就是负责把技术端的事情整好。<br>另外做了几个新业务的数据梳理+分析建设，毕竟BI这套咱搭起来的，属于熟练工了。</p><br/><br/><br/><br/><h1 id="投资与理财"><a href="#投资与理财" class="headerlink" title="投资与理财"></a>投资与理财</h1><p>今年下半年的股市越来越寒冷，悲观的声音越来越多，北向砸盘、内资也砸盘，这个月的物价、PPI、M1都在往下掉，看到对标聊日本模式的文章此起彼伏，政策的发力几乎也全部被负面解读。从数据上看，沪深300全年下跌了近12%，创业板全年下跌20%。12月继续补仓了一部分，但总体来说，目前仓位依然挺低的，60%的权益资产，考虑到未来2-3年可能要产生大笔开销，这样心理比较安心。</p><p>长期主义，信仰慢慢变得富有。 💪</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/12/29/20231229201706.png" class="" width="300"><br/><br/><br/><br/><br/>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E7%94%9F%E6%B4%BB/">生活</category>
      
      
      
      <comments>https://blog.liluhui.cn/2023/12/29/202312/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>2023年11月总结</title>
      <link>https://blog.liluhui.cn/2023/12/02/202311/</link>
      <guid>https://blog.liluhui.cn/2023/12/02/202311/</guid>
      <pubDate>Sat, 02 Dec 2023 14:13:34 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;一种脑力和体力充分燃烧的轻盈感&lt;/p&gt;
&lt;p&gt;恋爱反而让人混沌又沉重啊&lt;/p&gt;
&lt;h1 id=&quot;学习与成长&quot;&gt;&lt;a href=&quot;#学习与成长&quot; class=&quot;headerlink&quot; title=&quot;学习与成长&quot;&gt;&lt;/a&gt;学习与成长&lt;/h1&gt;&lt;p&gt;01&lt;/p&gt;
&lt;p&gt;疯狂大量地</description>
        
      
      
      
      <content:encoded><![CDATA[<p>一种脑力和体力充分燃烧的轻盈感</p><p>恋爱反而让人混沌又沉重啊</p><h1 id="学习与成长"><a href="#学习与成长" class="headerlink" title="学习与成长"></a>学习与成长</h1><p>01</p><p>疯狂大量地学习提示工程，把之前零碎的知识又系统化理了遍，实用角度来说目前水也不是很深 .. 上个月自己折腾的langchain项目被我停了，做了一半发现做出来也没啥用，当时还是没想明白。</p><p>02<br>在看一些瑜伽的书，11月回到我最初带我入门的老师身边学习，越来越确定这是可以践行一生的事情，它幸苦又有趣，丰富且复杂，冲突又求真， 回看自己这几年的变化，自己在习练中的局限和成长。</p><br /><h1 id="工作"><a href="#工作" class="headerlink" title="工作"></a>工作</h1><p>01</p><p>投入做一个AI小程序，为各种接龙问题提供智能订单解析及打印。目前核心流程都都开发完成了，界面还比较粗糙，12月开始运营验证。</p><p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/12/02/Pasted%20image%2020231202214923.png" alt="image.png"></p><p>02<br>unity 项目阶段收工，下一波等年度总结再规划了。忙碌又有些错乱的节奏，好在也是阶段性的吧。个人角度还是希望继续拓展这块的，可惜公司内能投入的非常有限。</p><br /><h1 id="娱乐与生活"><a href="#娱乐与生活" class="headerlink" title="娱乐与生活"></a>娱乐与生活</h1><p>01<br>这个月确实非常忙碌，只有工作日和学习日，仅有的娱乐一本书《太白金星有点烦》.. 哦对，还有工作日和同事们一起去看了魔术表演，逗了看上去很肥美的昂贵鸟儿们 😄</p><p>02<br>疯狂运动，除了工作和睡觉都在运动（一点没瘦）。也不是瞎运动，确实最近进步很大，就是那种刚迈上一个新台阶的欣喜，呼吸变得更加深长了，肩背发力开始有细节了。当然这个月也不是那么顺利，没控住练废了几次 .. </p><p>03<br>因为瑜伽认识了很多新朋友，来自不同年龄和经历的朋友，双休的正午一起晒着太阳聊体式、聊困惑、聊经历，下午又随着太阳一起一次次的拜日，真的如《瑜伽经》中所说的那种燃烧能量后的轻盈感。</p><br /><h1 id="理财"><a href="#理财" class="headerlink" title="理财"></a>理财</h1><p>没有什么大动作，保持在场。<br>接近年度复盘了，看了下22年和23年都是亏着的，大环境如此，仓位依然非常安心，反而产生担心是不是太安心了涨起来仓位不够重。但严守策略，不贪，保证活着。下个月要做年度复盘了，目前看至少回撤控制我非常满意，当然能不能跟住上涨依然存疑。</p><br /><br /><br /><br /><br /><br />]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E7%94%9F%E6%B4%BB/">生活</category>
      
      
      
      <comments>https://blog.liluhui.cn/2023/12/02/202311/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>2023年10月总结</title>
      <link>https://blog.liluhui.cn/2023/11/01/202310/</link>
      <guid>https://blog.liluhui.cn/2023/11/01/202310/</guid>
      <pubDate>Wed, 01 Nov 2023 14:46:53 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;兄弟，这是纸糊的英雄主义！&lt;br&gt;放弃，这是每个傻瓜随时随地都会做的，这是摆脱困境最胆怯最浮躁的手段！&lt;/p&gt;
&lt;br/&gt;

&lt;h1 id=&quot;学习与成长&quot;&gt;&lt;a href=&quot;#学习与成长&quot; class=&quot;headerlink&quot; title=&quot;学习与成长&quot;&gt;&lt;/a&gt;学习与成长</description>
        
      
      
      
      <content:encoded><![CDATA[<p>兄弟，这是纸糊的英雄主义！<br>放弃，这是每个傻瓜随时随地都会做的，这是摆脱困境最胆怯最浮躁的手段！</p><br/><h1 id="学习与成长"><a href="#学习与成长" class="headerlink" title="学习与成长"></a>学习与成长</h1><p>01<br>越来越喜欢与书籍交谈，越来越看淡人际交往，有点遗憾，不应该是这样的。在木心博物馆看到一些手稿很受触动，自省自己的傲慢，自省自己的理性，自省所谓的”有用之学“。有点想了解看不上的文学了，但还是会忙碌于各种各样的优先级里，我想可能每个十年都有它的使命，现在，坚定有用吧！我不擅长的且想要成长的，是试着和更厉害的人对话。</p><p>02<br>在用Langchain搞小项目，进度有点慢，也是工作和杂事太满，总是规划不出整片的时间来处理，下个月估计能完成个七八十的初版，干起来嘎嘎。</p><br/><h1 id="工作"><a href="#工作" class="headerlink" title="工作"></a>工作</h1><p>01<br>折腾unity数字化项目、折腾新媒体体系数据监控分析、折腾AI脚本和视频切片。杂七杂八做了些事，心底还是想做 unity 或是渲染那一块的，可是环境变了，总有能做的事情，但并不会总是最想做的事情。不能总是归因于个体意愿，很多时候环境不见得提供得了支持，相互施压没有帮助，土壤和树苗本就是相互成就的。</p><p>02<br>时代变了，面试者的质量每况愈下，AI选手也逐渐变多，面试流程和方式方法得做一些变革了，谁来扛起这面被压着的大旗呢。</p><br/><h1 id="娱乐与生活"><a href="#娱乐与生活" class="headerlink" title="娱乐与生活"></a>娱乐与生活</h1><p>01<br>在明媚又恰当的季节里，摆满鲜花，心情愉悦。</p><p>02<br>赶早去了乌镇戏剧节，刺眼又强烈的阳光，搞怪又认真的演员，席地而坐着看演出，拥挤的人群从眼前就慢慢消失了，我喜欢认真的人们，这里充满善意。</p><p>03<br>每周瑜伽和慢跑，倒立在这两个多月的持续小锻炼下有了重大的突破，对于肩背的感受从无到有，开始能感受到上背和臂膀发力的细节，开始能完全脱离墙面有控制的上下，感谢自己的持续习练，每天倒个立，提神醒脑。下个月，要开启瑜伽的新研学课堂啦 💪</p><br/><h1 id="理财"><a href="#理财" class="headerlink" title="理财"></a>理财</h1><p>01<br>又来到了3000点保卫战，这些年看起来点数没变，性价比确实越来越高了，指数越来越有价值了，汇金也下场了，这个点位已经很有政策态度了。<br>担心全球利率水平的风险，担心这已经不是一个短期的问题，0%-2%的低利率发展红利还能持续吗，经济周期的拐点真的到了吗。<br>整体小加了一点仓位，目前现金筹码还有40%上下，谨慎乐观。</p><p>02<br>长线投资者和短线投资者玩的是两种截然不同的游戏。<br>不要贸然从那些与你不同的人身上学习理财经验。</p><p>尽可能努力明确自己玩得是什么游戏。</p><br/>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E7%94%9F%E6%B4%BB/">生活</category>
      
      
      
      <comments>https://blog.liluhui.cn/2023/11/01/202310/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>2023年9月总结</title>
      <link>https://blog.liluhui.cn/2023/10/01/202309/</link>
      <guid>https://blog.liluhui.cn/2023/10/01/202309/</guid>
      <pubDate>Sun, 01 Oct 2023 14:36:38 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;玩乐与社交满满&lt;br&gt;delay delay delay&lt;/p&gt;
&lt;p&gt;九月，淡淡的桂花香配着茶香，奔跑着恍惚气味不见了。&lt;/p&gt;
&lt;h1 id=&quot;学习与成长&quot;&gt;&lt;a href=&quot;#学习与成长&quot; class=&quot;headerlink&quot; title=&quot;学习与成长&quot;&gt;&lt;/a&gt;学习</description>
        
      
      
      
      <content:encoded><![CDATA[<p>玩乐与社交满满<br>delay delay delay</p><p>九月，淡淡的桂花香配着茶香，奔跑着恍惚气味不见了。</p><h1 id="学习与成长"><a href="#学习与成长" class="headerlink" title="学习与成长"></a>学习与成长</h1><p>01<br>想明白一些事情，对自己设定的“我应该”中兴趣驱动和负责心产生了强烈的碰撞，换个角度看，很羡慕领导的“不负责任”，或许追求责任心反而无法成事，总想着找到现在看起来就成立的平衡点只是让自己陷入在纠结和精力分散之中，我信信念，信才能成。<br>那么费心又不讨好，是缺少了对自己状态负责的责任心。<br><br /></p><p>02<br>在瑜伽上九月有好多精进，倒立能起来了、轮式也越来越顺，从一堂课只能起一次标准轮、到能完整跟完做单腿轮，甚至成功了自己从狂野到轮，为自己开心。 😊<br>课堂之外也更有干劲，倒立能起来了，能感受自己肩背的抖动、能感觉到腹股沟力量的短缺，这些感受都是一次次练习下忽然而至、又逐渐加强，一天两天不见起色，但是一周两周总是能有一点点点的进步，只要坚持做下去，带上好奇和精进的心，事情总会有起色的。<br>报了VEDA的瑜伽与冥想学术课程，预计十月上可以上完，听不懂得太多，现世实用价值有，形而上的东西更多，瑜伽之上有社会学、哲学、神学、医疗… 庞大又神秘的东西总是很吸引人的。但我至少厘清了一点，瑜伽无法解读虚无，神我之上全是矛盾。<br>我想试试探索，和左脑断开连接的直觉智慧。什么样的直觉是智慧呢。<br><br /></p><p>03<br>总是可以，从过往的自己身上找到力量。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/10/01/Pasted%20image%2020231001215150.png" class="left" width="366"><br /><h1 id="工作"><a href="#工作" class="headerlink" title="工作"></a>工作</h1><p>01<br>这个月主要在搞 RPA 和 unity，把新媒体这块的数据采集搭建起来，把公司的几个抖音账号和小红书账号都接入进来了，结合数仓和BI，所有数据都沉淀下来分析，后续还要完善操作监控点还有其他平台，现在团队扩展还没开始，算是个准备工作。unity 还是之前的政府项目，主要是在对外核对上，工程相关的细节问题不少，对接和整理工作量挺大，开发部分反倒算是见缝插针着做。<br>AIGC 脚本生成这块也在持续迭代，现在问题是应用方体量太小进度太慢，下个月我得去发展下应用侧，不然迭代反馈太少太慢。<br><br /></p><p>02<br>这个月开放了急招HC，面试了不少人，笔试题筛得很无语，这两年明显的每个批次比上一批次更差，学历是差不多的，就是答题思路和完成度越来越离谱，通过率越来越低。一方面可能因为工资的筛选，另一方面和公司外的伙伴聊也是，技术新人水平越来越差了。<br><br /></p><h1 id="娱乐和生活"><a href="#娱乐和生活" class="headerlink" title="娱乐和生活"></a>娱乐和生活</h1><p>01<br>九月过得太充实，没有一个双休不在外面。<br>密集的团建月，公司的、各个团队的，胡吃海喝，倒也没胖。<br>九月还是我们的恋爱纪念日，一如往年拍了写真，今年的风格超酷。<br><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/10/01/1.jpg" alt="image.png"></p><p>这个月回忆下吃了好多顿自助，海鲜、烧烤.. 短时间不想碰了。和同事们一起做了烘焙蛋糕和饼干，味道一般，但是造型都超可爱的。还有去景德镇捏了泥巴，还有烧玻璃，带回来的战利品已经猝了一半哈哈。<br><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/10/01/mmexport1695356962667%20%281%29.jpg" alt="image.png"><br><br /></p><p>02<br>体验了次一对一的声乐教学，算巧合吧，老师说我的嗓子底色很不错，可是是个完全没有技巧的大白嗓。喜欢唱歌，也挺想学的，但是，总有很多重要的事，这种可能性就只能搁置啦。 —— 人生为什么总有那么多兴趣诱惑呢<br><br /></p><p>03<br>第二时间去看了诺兰新作《奥本海默》，真是一个好故事，看完电影两个人沉默了好一会，我喜欢这些音乐，它们在画面之外却铺满了信息，社会需要政治，又不能极端政治，不能考验掌握能力的人性是不是就该断绝能力发展的可能。</p><p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/10/01/designteam_Huge_fire_above_the_desert_mushroom_cloud_mechanical_f.png" alt="image.png"><br><br /></p><h1 id="理财"><a href="#理财" class="headerlink" title="理财"></a>理财</h1><p>美债利率的风险爆不爆都有可能，经济压力太大了，顺利就是看好明年，不顺利就是明后年跌下谷底，手头的仓位不敢激进，做好安全边际的评估。</p><p>感概房住不炒就这么放开了，恍惚这就已经7年过去了，房产也该周期轮转了。</p><p>风险与机遇并存的时间段，恒生都跌下了 18000 点。</p>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E7%94%9F%E6%B4%BB/">生活</category>
      
      
      
      <comments>https://blog.liluhui.cn/2023/10/01/202309/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>2023年8月总结</title>
      <link>https://blog.liluhui.cn/2023/09/01/202308/</link>
      <guid>https://blog.liluhui.cn/2023/09/01/202308/</guid>
      <pubDate>Fri, 01 Sep 2023 14:57:19 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;一呼一吸间的急促&lt;br /&gt;一呼一吸间的批判&lt;br /&gt;一呼一吸间的期待&lt;br /&gt;一呼一吸间的觉察&lt;br /&gt;一呼一吸间的自由&lt;br /&gt;一呼一吸间的喜悦&lt;/p&gt;
&lt;h1 id=&quot;工作和成长&quot;&gt;&lt;a href=&quot;#工作和成长&quot; class=&quot;headerlink&quot; tit</description>
        
      
      
      
      <content:encoded><![CDATA[<p>一呼一吸间的急促<br />一呼一吸间的批判<br />一呼一吸间的期待<br />一呼一吸间的觉察<br />一呼一吸间的自由<br />一呼一吸间的喜悦</p><h1 id="工作和成长"><a href="#工作和成长" class="headerlink" title="工作和成长"></a>工作和成长</h1><p>01<br />8月重点研究了Prompt文本结构，一开始想找到一个万全的元结构落地到我们的视频脚本生成业务里，什么3R、RPPRWI、CRISPE、TRACI … <br />研究了很多案例和大语言模型之后发现，这些东西更适合叫做“功法”，是适合入门操作时不出错指南，它的粒度很粗同时宽容度很高。<br />与任何大模型交流&#x2F;调教的过程，基本就是一个拆解和明确任务的过程，为什么会有角色指定，就是要告诉它你是谁，如果你想告诉的更清晰，就是它应该掌握的技能明确地指定给它。<br />这些 Structured Prompt 中无不贯穿着这些思想，指定工作流、指定受众、指定背景知识、指定目标… <br />所有结构只是招式，但我们在用的时候一定要明白每一个场景去拆解和明确任务的维度是不一样的。<br />你去安排一个销售人员制定市场计划和去安排产研团队推进业务规划所给到的信息结构和沟通方式也是不一样的。<br />流程上你是细节导向呢，还是分解导向？结果上你是不断解释调整呢，还是不断示例调整？对吧，方式方法有很多的。<br />而且这个东西要专业化，必然得人的经验先行，不然只能得出个勉强及格的东西，至少在我实践的视频脚本生成领域完全是这样的，我们要做的是能达到2-3年短视频脚本经验的员工的程度，涉及到各平台的文本结构、用词、立场、情绪、人设、知识背景等等的调优，都是在和新媒体同学不断复盘中迭代出来的。</p><p>02<br />月中给自己和对象部署了私域的GPT，这样就可以任何时候、任何设备访问了，也可以很方便切换版本。之前被openai不定期封号实在头疼，现在改成走接口代理让专业的人去承担风险，使用上顺畅多了，访问也比用外网服务稳定。<br />claude-2 也是真的不错，对我来说实用已经在 GPT3.5 - GPT4 之间了。</p><p>03<br />开始做同步做 unity 项目，从 unreal 转过来还是陌生的，搞定了WebGL程序包的体积优化，150MB减到90MB，大头都在材质压缩上。</p><p>04<br />月中部署服务把我的域名访问搞崩了，顺着查nginx半天没有任何日志搞的很头疼，睡了一觉起来重新进控制台发现安全组策略好像少了什么，意识到是自己前天某个按钮点下去给删除了。 —— 解决问题有时候确实玄妙，睡一觉就好了。</p><p>05<br />上个月开始一直在跟 GAMES Webinar 每周的讲座，AR 眼动追动、VR 博物馆之类的项目都好有意思，有机会也想整点一起做出点东西来。因为这个兴趣，最近双休跑博物馆都变多了😅。</p><p>06<br />习惯是很诱人的，人们并不喜欢先进的理念，更优雅或有意思的东西<br />即使是负责人，也别抱太大期待<br />对于人性来说，那都是麻烦<br />总要有人来开路，即使倒在半路，也必然倒在半路</p><p>07<br />Learn to sell. Learn to build. If you can do both, you will be unstoppable.</p><h1 id="阅读"><a href="#阅读" class="headerlink" title="阅读"></a>阅读</h1><p>01<br />这个月读完了四本书，基本和狗子一起吹着空调看完的，夏日的幸福。</p><p>02<br /><a href="https://book.douban.com/subject/35882510/">《你的灯还亮着吗》</a>很适合拿来反复阅读，这不就是修行“辨别智”的现代操作指南，宗教和哲学真是大智慧。<br />里面涉及了很多小故事&#x2F;案例，让读者重新去思考究竟面对的是什么问题、以及怎么解决，其实定义问题才是最难的，我很喜欢书名的这个<a href="https://cloud.tencent.com/developer/article/1371032">故事</a>。<br />很多时候我们太急着行动了，工作是、学习是、人际关系也是，为什么问题定义总是那么理所当然，为什么解决问题一定是解决别人？<br />行动是看上最辛苦的事情，但或许反而是最简单的事情。<br />就像那句对千万学子说的话一样，“学习太难了？不，学习是最简单的事情。一旦你想明白了为何而学。”<br />我们喜欢行动，依赖确定性的反馈；我们总想做点什么，不敢信任不为而为。</p><p>03<br /><a href="https://book.douban.com/subject/10486407/">《印度瑜伽与佛教》</a>一本论文专著，并不厚实，意外地好读，当然也不可能全然看懂，但比现在的我读《瑜伽经》一脸茫然来说，论文内容给到很多现代化的论述，竟也可以让我带入到那些时代岁月里的话语中了。<br />把瑜伽和佛教放在一起是件很顺理成章又意料之外的事情。顺理成章是因为它们本就是一家同源，意外的是习练瑜伽这几年老师会提脉轮修习、冥想、禁制等等，却从未提过佛学，它们在历史的发展中已经是完完全全的两个群体了。<br />这本书对我最大的触动是，原来任何古籍都不是时代的切片，它不止是一个时代，它曾经在漫漫岁月中发展，它至今也还在发展，其中有和时代结合的观念革命，也有至今都没有想明白的灵魂发问，它给不出准确的答案，它只是给出一系列引导的可能性。—— 好像和每个人的人生，都挺像的。<br />看完这本书又再一次更喜欢“om”了，简单的吟唱中有身体的共鸣，那感觉从脚趾头到头顶，是灵性的种子。</p><p>04<br />🧘🏻‍♀️心的五种特性，心的一切变化都出自本体极其转变物</p><ol><li>扰心，受三德之中的动性驱动，被感觉拨弄，不断从一个对象转移到另一个对象，常常引起心的骚动，是苦乐的来源之一</li><li>盲心，受惰性、惯性控制，在强烈的惰性驱使下，昏暗不明，心思不能专一</li><li>迁心，对某事物专注一阵子后就涣散，攀缘其他事物，心不稳定，为烦恼多苦，有时也能集中于某一事物，但不能持久</li><li>一心，能够长时间地专注于客体之上，为心的抑制做好了准备，但还未达到断灭</li><li>灭心，所有精神状态都处于控制之下，可以恢复本来的平静心性</li></ol><p>—— 整理自书籍《瑜伽疏》，与正念体验极其贴近，寻找安宁的本我</p><p>05<br /><a href="https://book.douban.com/subject/36397929/">《大模型时代》</a>科普大模型相关技术和应用的读物，我是看作者title读的，帮助顺了下一些知识概念。<br /><a href="https://book.douban.com/subject/36489629/">《一出门就心情好》</a>小红书+后浪出品，一本很可爱的杂志，户外就是很好玩 🥰</p><h1 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h1><p>01<br />这段书中的描述在冥想习练中很有共鸣</p><blockquote><p>这是瑜伽行者生活中非常真实和单纯的体验。在每一个不分心的片刻，瑜伽师都观察ta正经历的心理状态，努力维持注意力集中、冥想和最终超然的全神贯注状态。干扰和阻碍在这一过程中不断出现，要把我们从这条路途或状态中拉开。我们必须立刻处理它们，平定思维乱流，通过提升它，再次正确地指引它。随着进步，我们感知到，差别在逐渐减少。我们发现自己处在一个范围更小、层面更高的意识领域中，直到不再有差别和变化。在这一时刻，人就处在了完美的全神贯注状态中。</p></blockquote><p>冥想好像在朦胧中来到一种新的状态，我可以不作为旁观和控制而参与其中随时抽离和切换了，就好像参与其中的我和观察者的我可以同时存在了，迷失正在越来越少。或者和状态有些关系，这段时间打坐都比较碎，没有超过过20分钟，也就没有抱着什么期待进入，谁知道呢。</p><p>02<br />某天瑜伽晚课的随记，还能记得那种感觉，活着还挺不错的感觉<br />油然而生的<br />羡慕自己的此时此刻，感激自己的此时此刻</p><blockquote><p>垫子上的汗水，老师的口令，丰富的音乐，悦动的篮球<br>美好，幸福<br>辛苦，嘈杂<br>真实</p></blockquote><p>03<br />例行洗牙，例行医美光电护理，勤劳爱护身体<br />杭州口腔医院和杭州市民报保的合作真不错，第二年薅洗牙的羊毛了，推荐给杭州的朋友</p><p>04<br />本月尝试了新美食 —— 烤猪蹄<br />还行，对比太糯了不够筋道Q弹，不如外面卖的好吃 😅<br /><br><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/09/01/2.png" alt="image.png"></p><p>05<br />某天暴走了一圈西湖，当天走了14km，把对象拉爆了 🚶🚶‍♀️<br />顺便看了好多好多的荷花 🪷<br />灵隐寺那人可太多辣 🥵<br /><br><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/09/01/1.png" alt="image.png"></p><h1 id="理财"><a href="#理财" class="headerlink" title="理财"></a>理财</h1><p>7月末开始至今布局了科创目标仓位的20%，月末小回弹了，不过也很难一波冲上去，这仓位慢慢加，子弹足。<br />其他没啥动作，9月-12月计划银行的仓位减下来，未来银行让利，这块影响比较大。</p>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E7%94%9F%E6%B4%BB/">生活</category>
      
      
      
      <comments>https://blog.liluhui.cn/2023/09/01/202308/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>2023年7月总结</title>
      <link>https://blog.liluhui.cn/2023/08/04/202307/</link>
      <guid>https://blog.liluhui.cn/2023/08/04/202307/</guid>
      <pubDate>Fri, 04 Aug 2023 14:56:29 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;炎热又连绵雨季的杭州，反复横跳的天气和我的身体状态差不多，在躁动和堕落间反反复复。&lt;/p&gt;
&lt;p&gt;混混沌沌，毫无长进。&lt;/p&gt;
&lt;br/&gt;

&lt;h1 id=&quot;工作和成长&quot;&gt;&lt;a href=&quot;#工作和成长&quot; class=&quot;headerlink&quot; title=&quot;工作和成长&quot;&gt;&lt;</description>
        
      
      
      
      <content:encoded><![CDATA[<p>炎热又连绵雨季的杭州，反复横跳的天气和我的身体状态差不多，在躁动和堕落间反反复复。</p><p>混混沌沌，毫无长进。</p><br/><h1 id="工作和成长"><a href="#工作和成长" class="headerlink" title="工作和成长"></a>工作和成长</h1><p>7月初暂停了上个项目，领头尽力打开一条路子去做市场验证，这一步终究是来得晚了些，总算是有了能不能做的结论。具体就不在这里多说了，这一年作为参与者其实是有无力感的时段的，收获是对团队里的每个人的特质也更清楚一些，目前的组织结构也有问题，领头去干一片市场出来确实面对很多不确定性，但是看着上层意识的路径依赖也很难受，总之都是难受，不如按我的想法来吧。</p><p>说到路径依赖，我发现更无力感的一件事就是，当你对面的人非常信任自己懂得这个概念的时候。我测试过好几次，人们以为自己懂得这个道理就能做到，但每个人的步子是不一样的，你的腿多长决定了你一步能迈出多少，说到底意愿和能力同样重要。即使对于我，超出某些范围的东西我也会下意识地害怕去面对，但我们需要看到自己不愿面的是什么，这个恐惧的逻辑是怎么产生的。承认做不到一些事才有可能做到一些事，瞎喊口号是没有用的，这对我的触动挺大的。</p><br/>最近嘛，绕不过去的AI，什么都能和AI结合一下，什么也都想和AI结合一下，不过讨论范围还是在熟人圈和公司的小圈子，整个公司层面上上层有想法，拨了一些资源去做，这块我也持续在关注。一方面是 unity + ai 做了一波调研、另外 sd 的使用上尝试了几个火爆的场景出了几波图。另外也把 Copilot 部署到我所有的工作终端了，写 C# 瞬间轻松不少。 <p>接手了一个 unity 的工程，之前一两年都在接触 unreal，本身也有意向适用场景更广的 unity 转，没想到机会来的很合适，就是急了点，手头的其他事情占据了我主要的精力，抽离了几天完成了一个阶段交付版本。</p><br/><h1 id="理财"><a href="#理财" class="headerlink" title="理财"></a>理财</h1><p>花了几天研究给全家补充上了医疗险，整理好了纸质资料准备下次拿给爸妈。比较遗憾是我有结节导致商业医疗险过不了，只能买惠民保一类兜大大底的医疗险。这样到目前为止陆陆续续一年家庭的基础保险体系算完成一版了，意外、重疾、医疗都覆盖上了，目前不是很理解，不过对象还是挺开心的。</p><p>股债没啥大动作，开始左侧布局科创50，资产统计表做了一版大迭代，用风险评级和流动性评级替换了上一版一个维度的分组，一些计算公式也做了改进，还不错，整理表格比看到数字更心情舒畅些。</p><br/><h1 id="健康"><a href="#健康" class="headerlink" title="健康"></a>健康</h1><p>进了一个新的瑜伽馆，每周2-3节在课堂，1-2节在家里，挺满意的，周末的清晨起来拜日是一种享受，从喜欢自己的一天开始。每到一个新馆都会遇到很多厉害的习练者，不是很想跟着大家挑战高体，想要安安静静地打好基础，不过身体的信号我还是激进了一些，筋膜紧张的很。</p><p>例行的每月医美光电，因为最近的痘痘尝试一套消炎的伊肤泉微针，术后一周多开始疯狂爆痘，虽然有预期，还是难受，手痒就很难保证卫生，一思考事情的事情，总是管不住。</p><br/><h1 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h1><p>二手出掉了一批今年淘汰下来的电器和设备，遇到的买家都很爽快，浅浅回了一点血，让小家更简洁一些，也借机把一柜子的“可能会出二手的箱子”整顿了下，一面衣柜塞满了的包装箱子，想来也是有点好笑的。</p><p>另外想到移动的套餐还是用的大学的，资费太贵的，历时2天通过客服换了28&#x2F;月通用20G的套餐，想想之前68&#x2F;月的套餐也不知不觉用了十年了。</p><p>这个月看了《午夜巴黎》《冈仁波齐》《长安三万里》三部电影。很喜欢这次追光动画的长安，当诗歌有了具体的时代背景、有了画面，语文课本里的诗也变得有了情绪。了解李白甚至连寒门都不是，千辛万苦进了翰林院的不得开心颜，兜兜转转至死都没能施展纵横之术，也会深深的叹息。倒是阴错阳差因为诗的才气共鸣了那么多后人，原来唐朝人人都会写诗啊，就像今天谁都能随口哼唱两句一样。即使影片为了结构做了改编和简化，还是会感慨历史的复杂性、人的复杂性，近看每个人的一生都似流水账，远看原来人生关键转折点来得多么猝不及防。<br>酒真是个好东西啊，酒真是个好东西<br>总之，推荐给各位成年人，但不推荐小孩子看。</p><p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/08/04/caswl.png" alt="image.png"></p><br/><p>看完冈仁波齐后才发现原来手边的瑜伽相关书籍的封面就是它，奇妙的缘分。《冈仁波齐》是一部关于信仰的伪纪录片，我倒觉得它更应该是一部关于修行的纪录片，我们都是借由一些方式向内探索，朝圣是在每一个叩拜中感受痛苦、直面质问、接纳自我、打开连接，冥想也是，瑜伽也是。</p><p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/08/04/grbq.png" alt="image.png"></p><br/><p>《午夜巴黎》的母题很清晰，它就是想阐述一个点 —— 最好的时代不在未来，最好的时代也不在过去，当下就是最好的时代。其实有点活在当下那意思，不是只会幻想或者抱怨，积极投入当下时代的建设中。</p><p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/08/04/wybl.png" alt="image.png"></p>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E7%94%9F%E6%B4%BB/">生活</category>
      
      
      
      <comments>https://blog.liluhui.cn/2023/08/04/202307/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>每个人都应该有点人生哲学（上）</title>
      <link>https://blog.liluhui.cn/2023/04/27/%E6%AF%8F%E4%B8%AA%E4%BA%BA%E9%83%BD%E5%BA%94%E8%AF%A5%E6%9C%89%E7%82%B9%E4%BA%BA%E7%94%9F%E5%93%B2%E5%AD%A6%EF%BC%88%E4%B8%8A%EF%BC%89/</link>
      <guid>https://blog.liluhui.cn/2023/04/27/%E6%AF%8F%E4%B8%AA%E4%BA%BA%E9%83%BD%E5%BA%94%E8%AF%A5%E6%9C%89%E7%82%B9%E4%BA%BA%E7%94%9F%E5%93%B2%E5%AD%A6%EF%BC%88%E4%B8%8A%EF%BC%89/</guid>
      <pubDate>Thu, 27 Apr 2023 15:32:42 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;01&quot;&gt;&lt;a href=&quot;#01&quot; class=&quot;headerlink&quot; title=&quot;01&quot;&gt;&lt;/a&gt;01&lt;/h2&gt;&lt;p&gt;说到哲学好像是一个独立的大学术领域，其实关于人生哲学和每个人都息息相关，它就是一个个看上去有点宏大的问题，而每一个都应该主动去触达这些宏大的</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="01"><a href="#01" class="headerlink" title="01"></a>01</h2><p>说到哲学好像是一个独立的大学术领域，其实关于人生哲学和每个人都息息相关，它就是一个个看上去有点宏大的问题，而每一个都应该主动去触达这些宏大的问题，正是这些问题构成我们独特的人生哲学。</p><p>不知道你怎么看待这些宏大的问题，</p><ul><li>我活着有什么意义</li><li>我做的事情有什么意义</li><li>我此时此刻在追求什么</li><li>我是谁，什么构成了我</li></ul><br/><p>从我的观察来说，一部分人是完全拒绝或逃避这些问题，他们不去思考活着的意义 —— “问这种问题根本没意义好伐啦，钱不要赚的啊。”、“赶紧娶个老婆，好好工作赚钱，教育下一代要出息啊” 。显然，他们不会为这些宏大的问题苦恼，这些问题被他们归为了不需要思考的事情，我们接受了一种使命，并不加思索的执行着，也就是我们所说的 —— 麻木。</p><p>当然，也有一部分人积极且主动地持续探索着这些问题。在人生的路上，他们会不断地处于迷茫之中，在这迷茫之中是不断生长的内在力量。如果你想问我这内在力量是什么，我会在下面再展开探讨。或许你还会想问纠结于这些问题不就是陷入虚无主义吗？我可以非常肯定的告诉你，虚无主义是每一个拥有自由意志之人必经的课题。破解虚无的结论永远是具体，这是所有文化作品表达的永恒主题，但对于这个“具体”是每个人的课题。</p><p>是的，我非常粗暴地认为，如果你从未陷入和追问过虚无主义，你一定是麻木的，你在触达这个问题时选择了拒绝或逃避。确实，我承认有一些人很早就找到了具体的使命 —— 我们家族就是要继承这传统的手艺啊，如果没有经历过怀疑和迷茫到再认可的过程，也是一种彻头彻尾的麻木包装在了一件看似美好的事物里面。</p><p>综上，对于人生的宏大问题上，一些人彻底拒绝或逃避，一些人持续探索和追问，其实对于绝绝绝大多数人来说，包括我，我们在一些问题上逃避了、一些问题上拒绝了、一些问题上探索了一段路、一些问题上还在追求，我们的人生哲学很大，其实我们都已经在路上了。</p><br/><h2 id="02"><a href="#02" class="headerlink" title="02"></a>02</h2><p>在那么多的宏大问题上，我认为有三个问题非常非常重要，我把它们成为关键问题</p><ol><li>我的价值观排序是怎么样的</li><li>我是谁</li><li>我爱哪些人，我不爱哪些人</li></ol><br/><p>价值观是个非常重要的问题，我几乎决定了我们此刻要做什么，我们未来会成为什么，说白了，你在追求什么。很多人的追求是被外界潜移默化植入的，这些追求的背后才是自我真正的诉求，但我们常常被植入这些“手段”，而意识不到自己的“目的”，错把手段当成目的的问题是，常常求而不得。</p><p>比如说，我们会追求美丽。每个月总要买点新衣服，发型和指甲都要精致一点，搭配要好看，定期也要做下医美养护，总之我得是相对美丽的。有些人花了很多时间投入在这个事情上，背后的诉求非常常见 —— 被看见，希望在自己在意的群体里被看见，因为他们眼里看见了同样美丽的女孩。但是我建议同样有这个追求的人重新审视一下你的环境，你身处的环境真的是这个评价标准吗？如果不是，做到这个程度的美丽真的有被看见吗？</p><p>我是说真的，大多数成年人的圈子只有一小撮人在意美丽，你在一个满地拖鞋的企业里美丽只会收获到敷衍夸赞。</p><p>而如果你在意的是遥远的圈子，比如网络之中，那份被看见的持续性是要下足够的成本投入的，并且这份被看见的自我认同是会从逐渐上瘾发展成逐渐淡化甚至麻木。一开始，点赞会让人感觉到被看见、被认可、被喜欢，但是观众眼里的你永远是片面的，你的照片是筛选过的，你的文字是生活的截取和夸张，你在逐渐地测试中发现，观众看见的也不是你，观众看见的是透过你他们心中的想象，最后发现，你最爱的还是数字，你被看见了，也是数字。—— 你认可数字的价值吗？</p><p>除了追求美丽，人们也常常追求金钱。金钱背后的诉求可能比较复杂，包含着希望被看见、被尊重、变得幸福、得到认可、取得优越感。同样的问题，当手段变成目的的时候，当不去探究和追问的时候，你会在某些时刻感到彻底的沮丧如果追求金钱是为了被尊重，那么为什么去做灰产？。如果追求金钱是为了幸福，那么35岁就一堆慢性病是怎么回事？如果追求金钱是为了取得认可，为什么要追风口？</p><p>这让我想到，现在有很多青年声称努力赚钱早点养老，但大部分人想象的养老一点都不具体 —— 回老家买个房，每天养养花草散步做点小生意。这就是某种围城，闲着没事干的羡慕有奋斗目标的，在奋斗的羡慕躺平的。</p><p>回到价值选择的问题上，这个问题包含我们追求什么，以及这些欲望的优先级。</p><p>就我的观点来说，我认为真正自我意识下的追求是可以付出生命的，如果不能投身于某个追求，那它可能还称不上追求，而是某种欲望和目标，它可能还需要时间探索和追问。我的意思是，为了达成这件事情，需要的话我可以付出生命，而这件事如果不再有延续的可能的话，生命的价值可能也就到此为止了。赖活不如好死，至少在自我追求充分明确之后是这样。</p><p>当然这件事并不容易，我是说值得付出生命的追求，小时候我脑瓜有很多决心可以付出生命的事情，但是随着长大它们显得荒谬了起来，欲望开始变得丰富多彩且模糊，时间开始变得有形状，开始明白观点和执念都是需要时间来发展的，坚定的信念背后是看见自己的诉求。</p><p>关于探索和追问的线索，从心理学领域可以给到一些支持，人们往往内心的诉求包括：安宁、快乐、幸福、金钱、名声、认可、权力、不幸、恐惧。这里有一些其实是重叠的，也有一些是完全互斥的。这里的每一个点都值得反复思考，它们大多数都是伪诉求。</p><br/><h2 id="03"><a href="#03" class="headerlink" title="03"></a>03</h2><p>我是谁是一个庞大的问题，它包含了我如何看待我自己，我如何看待他人看待我，我扮演着什么身份，我所属于哪些群体。</p><p>这其实是一个很好的深度聊天话题，比起询问你的人生追求是什么，我想至少在 “用100字描述你是谁” “用1000字描述你是谁” 上每个人都是有话可说的。</p><p>人们未必对自己是谁有过充分地思考，但眼下每个人都有自己的答案，在回答这些问题的过程，是非常有可能意识到，你是冲突的，你是矛盾的。你可能觉得自己挺优秀，但你觉得别人好像没觉得你优秀，这中间有什么东西你明明是清楚的，但一直不肯去触碰，你用了另一种结论 —— “他们不懂” 否决了问题的存在。还有比如，你是什么身份，当你说出你是某某的妈妈时，你会不会对那个气愤自我消失的自己感到抱歉，还是非常庆幸这个身份。你会是很多个你，你想象中的你，你眼前镜子里的你，你想象中别人眼里的你，你感受中别人眼里的你，在这里的你，在那里的你，你应该看到那么多的你都存在着。</p><p>我常常在聊天中暗自惊叹人们的思维怎么会在同一时刻有这么多自相矛盾的盲区，也常常怀疑自己说出的话是不是也是如此。一个不太善于理性思考的人，在对于思考的表达上确实会显得不太聪明的样子；一个太善于理性思考的人，在对于思考的表达上又有着大量的跳跃。</p><p>我想有必要强调一下理性和感性的应用，我想把它们俩比作肌肉和筋膜，这是我从瑜伽习练中收获的感悟。你知道我们的身体能动起来是因为包裹着骨骼的肌肉，以及连接骨骼之间、骨骼肌肉之间、肌肉之间的筋膜（其实还包含一些其他的，请简化理解吧）。对于体式习练来说，肌肉是我们的力量，筋膜是我们的柔韧，习练中如果只有力量，体式是做不到位的，你的胯无法摆正，你举起的双手无法合掌；反而，习练中如果只有柔韧，体式是非常危险的，咔嚓一下做到那个位置，很容易发生不可逆损伤。</p><p>理性和感性也是如此，感性让人发散和探索，思维在头脑中爆炸，如果理性力量太少，那么思维的链路会非常的荒谬而不自知，就像体式强行到了一个位置还洋洋得意；而如果感性力量太少，那么思维会很僵化，它发展地很慢，甚至可能更认死理，就像一块肌肉就在这发力了，它愿意更强，但它不想再进一步和筋膜结合协同加深体式了。</p><p>我们关于人生哲学的思考，不得不意识到这样一个问题，你的思维模型某种程度上就决定了你人生哲学的深度，你不得不回归到锻炼你的感性思维和理性思维的结合运用中，就像习练瑜伽一样的修行，在不断的习练中找到空间并更近一步，这个空间就是自由意志。</p><p>关于我是谁这个问题还有一个子问题很重要，即你所归属的群体。没有人是完全孤独的，即使你感受到孤独。你认可的归属群体的排序，也辅助着你的价值排序。你可能认为你是某个家庭的一员、某个社区的一员、某个城市的一员、某个国家的一员，不管怎么说，你总归认可你是星系的一员吧？在我们明确我们是什么的一员，不是什么的一员，就能更建设性地看待我们所处的群体，不止是抱怨，如果你认可并希望这个群体变得更好，那么就应该参与建设，也更明白不同人的利益之下有根本问题存在。</p><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><p>以上仅代表个人观点，请保持独立思考。</p><br/><br/><br/><br/><br/>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E6%80%9D%E8%80%83/">思考</category>
      
      
      
      <comments>https://blog.liluhui.cn/2023/04/27/%E6%AF%8F%E4%B8%AA%E4%BA%BA%E9%83%BD%E5%BA%94%E8%AF%A5%E6%9C%89%E7%82%B9%E4%BA%BA%E7%94%9F%E5%93%B2%E5%AD%A6%EF%BC%88%E4%B8%8A%EF%BC%89/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Github Copilot 实用上手指南</title>
      <link>https://blog.liluhui.cn/2023/04/12/github-copilot/</link>
      <guid>https://blog.liluhui.cn/2023/04/12/github-copilot/</guid>
      <pubDate>Wed, 12 Apr 2023 13:56:36 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h1&gt;&lt;img src=&quot;https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/0</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/screenshot-20230408-174003.png" class=""><p>官网：<a href="https://github.com/features/copilot/">https://github.com/features/copilot/</a></p><p>GitHub Copilot 是一款由 GitHub 和 OpenAI 合作开发的人工智能编程助手，可以根据编写的代码，自动生成可能的代码补全、函数调用、甚至是整个函数或代码块。它的定位是为开发者提供一个更加高效的编程工具，能够降低编程的难度和疲劳感，提高编程的质量和效率。</p><br/><h2 id="GitHub-Copilot-的主要功能"><a href="#GitHub-Copilot-的主要功能" class="headerlink" title="GitHub Copilot 的主要功能"></a>GitHub Copilot 的主要功能</h2><ol><li><p>代码补全：GitHub Copilot 可以基于当前代码的上下文，智能地生成代码片段和语句，提供代码自动补全的功能，从而减少编写代码的时间和错误。</p></li><li><p>函数调用：GitHub Copilot 可以根据当前上下文中已经存在的变量和方法，智能地推测出可能需要调用的函数，从而减少程序员的思考时间和错误率。 </p></li><li><p>代码注释：GitHub Copilot 可以为代码自动生成注释，描述当前代码的功能和用途，从而帮助开发者更好地理解代码。</p></li><li><p>代码生成：GitHub Copilot 可以基于开发者提供的输入，自动生成完整的函数、代码块、甚至是整个程序。这使得开发者可以更快速地编写代码，减少手动编写代码的时间和劳动强度。</p></li></ol><br/><h2 id="GitHub-Copilot-的发展"><a href="#GitHub-Copilot-的发展" class="headerlink" title="GitHub Copilot 的发展"></a>GitHub Copilot 的发展</h2><p>早在 2019 年，OpenAI 就推出了名为 GPT-2 的自然语言处理模型，该模型能够生成高质量的自然语言文本。这个模型的出现引起了极大的关注，并被许多人认为是人工智能技术的重要进展之一。</p><p>随着 GPT-2 的出现，人们开始想象将这种技术应用于编程中的可能性。GitHub Copilot 就是基于这个想法产生的。GitHub Copilot 的核心技术是使用 OpenAI Codex 技术开发的，它是 GPT-3 的后继者，专门针对编程任务进行了优化和训练。Codex 可以解析自然语言，并根据用户的输入生成代码建议，这些建议可以在一定程度上帮助程序员更快速、更高效地编写代码。</p><p>在 GitHub Copilot 发布之前，一些类似的编程助手工具已经出现了，例如 TabNine 和 Kite 等。然而，这些工具都是基于固定的代码模板和规则，不能像 GitHub Copilot 那样通过机器学习自我进化，并生成更加智能和个性化的代码建议。</p><p>2021 年 6 月，GitHub Copilot 推出技术预览版，该版本仅向早期用户提供了访问权限。<br>2022 年 6 月，GitHub Copilot 正式发布，向个人开发者提供订阅服务。<br>2023 年 3 月，GitHub Copilot X 推出技术预览版，带来一系列由 GPT4 驱动的新能力。</p><p>GitHub Copilot 的工作方式是基于机器学习和人工智能技术。它使用了深度学习算法和大规模的预训练模型，通过学习程序员的编程习惯和语法结构，从而能够智能地生成代码片段和完整的代码。开发者可以通过安装 GitHub Copilot 插件来使用该工具，并在编辑器中与其进行交互。在使用的过程中，GitHub Copilot 还会不断地学习和优化自己的模型，以提供更好的编程辅助功能。</p><br/><h1 id="功能特性"><a href="#功能特性" class="headerlink" title="功能特性"></a>功能特性</h1><h2 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h2><p>定位：智能的开发者伙伴 （Copilot）<br>愿景：通过使用人工智能技术来提供更高效、更精准的编码工具，以帮助开发人员解决更具挑战性的问题，提高开发效率和质量，从而能够专注于解决更创造性和高层次的问题。</p><p>其<strong>智能</strong>体现在以下方面：</p><ol><li>语言理解能力：它可以解析自然语言输入并理解编程上下文，从而生成合适的代码片段。</li><li>编程知识库：GitHub Copilot 能够访问广泛的编程知识库，包括 GitHub 上的代码仓库、Stack Overflow 等，以帮助生成更加准确的代码。</li><li>提供多种生成代码方式：除了提供基于自然语言的描述生成代码的方式，GitHub Copilot 还支持代码的自动补全、重构和错误修复等多种方式，这使得它在实际开发中的适用性更强。</li><li>模型训练：GitHub Copilot 的底层模型是通过大量的数据和算法训练得到的，这使得它能够生成准确的代码片段，并逐步提高自己的表现。</li><li>上下文理解：GitHub Copilot 能够根据代码上下文推断出程序员的意图，并生成相应的代码。</li><li>集成开发环境（IDE）：GitHub Copilot 集成了多种常用的 IDE，可以在代码编辑器中直接使用，从而提高编程效率。</li><li>多语言支持：GitHub Copilot 支持多种编程语言，如JavaScript、TypeScript、Python、Ruby等，这也使得它在跨平台、多语言编程方面具有优势。</li><li>自我学习能力：GitHub Copilot 不断从海量代码库中学习和积累知识，同时也可以根据用户的反馈进行调整和优化，这使得它的智能水平不断提高，也能够更好地满足用户的需求。</li><li>开放性和可定制性：GitHub Copilot 是一个开放的平台，用户可以自行添加自己的代码库和知识库，并且可以根据自己的需求进行定制和调整，这也使得它具有较高的可扩展性和灵活性。</li></ol><p><strong>对于我们来说，需要了解</strong></p><ol><li><strong>Copilot 背后的训练集来自于 Github 上广泛且大量的代码</strong></li><li><strong>Copilot 会学习当前项目代码，参考本地和公共领域的代码来理解上下文</strong></li><li><strong>Copilot 本质上依然是自然语言模型，可以使用自然语言描述问题</strong></li></ol><br/><h2 id="案例展示"><a href="#案例展示" class="headerlink" title="案例展示"></a>案例展示</h2><ol><li>将注释转换为代码</li></ol><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/212965036-26579d9f-cfaf-44eb-90fb-76421dc7ab9d.gif" class="" width="600"><ol start="2"><li>创建单元测试</li></ol><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/212964557-8d832278-61bb-4288-a8a7-47f35859e868.gif" class="" width="600"><ol start="3"><li>创建 SQL 查询</li></ol><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/212965203-c9623e27-4fff-4961-a7f4-4d14625dd17c.gif" class="" width="600"><br/><h1 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h1><h2 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h2><ol><li>注册服务 <a href="https://github.com/settings/copilot">https://github.com/settings/copilot</a> ，目前 10刀&#x2F;月<img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230410210259.png" class="left" width="300"></li></ol><br/><ol start="2"><li>下载你使用的<a href="https://docs.github.com/en/copilot/getting-started-with-github-copilot?tool=visualstudio"> IDE 对应的插件</a>，目前支持 VSCode、Visual Studio、JetBrains、Neovim，以下以我用的 VSCode 为例<img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230410210312.png" class="left"></li></ol><br/><ol start="3"><li>安装IDE插件，其中 <a href="https://marketplace.visualstudio.com/items?itemName=GitHub.copilot">Github Copiot</a> 为正式版，<a href="https://marketplace.visualstudio.com/items?itemName=GitHub.copilot-nightly">GitHub Copilot Nightly</a> 为 Beta 版，<a href="https://marketplace.visualstudio.com/items?itemName=GitHub.copilot-labs">GitHub Copilot Labs</a> 更多实验室功能（其实就是 Chat 的可视化版本）<img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230410210043.png" class="left" width="300"></li></ol><br/><ol start="4"><li>进 IDE 授权登录<img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230410210107.png" class="left" width="300"></li></ol><br/><ol start="5"><li>随便打开一个文件进行验证<img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230410210154.png" class="left"></li></ol><br/><h3 id="操作技巧分享"><a href="#操作技巧分享" class="headerlink" title="操作技巧分享"></a>操作技巧分享</h3><h3 id="常用场景：根据注释写代码"><a href="#常用场景：根据注释写代码" class="headerlink" title="常用场景：根据注释写代码"></a>常用场景：根据注释写代码</h3><p>以下内容，用时 5 秒，还包括了我的优化建议</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230410220406.png" class="left"><br/><h3 id="常用场景：重复性内容生成"><a href="#常用场景：重复性内容生成" class="headerlink" title="常用场景：重复性内容生成"></a>常用场景：重复性内容生成</h3><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230410220052.png" class="left"><p>以上是一段需要注册一堆移动操作的处理，涉及大概16个操作，而项目中其实真的有大量这样的事情在发生，不单是是测试用例，业务中就存在一些重复了又不完全重复的事情。<br>以为自己复制和改变量花费时间不多，实际上这就是每一个3秒到1秒的提升，量越多，这一提效越明显。</p><br/><h3 id="常用场景：总是翻文档不够熟悉的-SQL-amp-RegExp"><a href="#常用场景：总是翻文档不够熟悉的-SQL-amp-RegExp" class="headerlink" title="常用场景：总是翻文档不够熟悉的 SQL &amp; RegExp"></a>常用场景：总是翻文档不够熟悉的 SQL &amp; RegExp</h3><p>除了数据工程师应该没有人在天天写 SQL 吧，写到复杂一点的逻辑总是要翻文档和测试的，只要你有了小助手，并且拥有描述需求和测试 SQL 的能力，整个过程会非常高校。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230410221835.png" class="left"><br/><p>正则也是一样，用到深处方恨学得不精，业务里总会来一些匹配需求的花活。</p> <img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230408172136.png" class="left"><br/><p>从这些能力来来看，<br><strong>研发的关键能力在于描述清楚需求和调优的能力。你依然也必须是主控。</strong></p><br/><h3 id="操作技巧：一次查看更多建议"><a href="#操作技巧：一次查看更多建议" class="headerlink" title="操作技巧：一次查看更多建议"></a>操作技巧：一次查看更多建议</h3><p>鼠标聚焦在建议行上，键盘 <code>ctrl + entry</code> 触发打开其他建议，可以一次性浏览当前上下文背后的内容。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230410213753.png" class="left"><p>其他常用</p><ul><li>切换下一个建议 <code>Alt + ]</code></li><li>催促生成建议 <code>Alt + \</code></li></ul><br/><h3 id="操作技巧：解释代码"><a href="#操作技巧：解释代码" class="headerlink" title="操作技巧：解释代码"></a>操作技巧：解释代码</h3><p>利用左侧的 lab 工具可以选择 <code>EXPLAIN CODE</code>, 同时在编辑器中一样可以使用</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230410233355.png" class="left"><br/><h3 id="操作技巧：提问机"><a href="#操作技巧：提问机" class="headerlink" title="操作技巧：提问机"></a>操作技巧：提问机</h3><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230410211718.png" class="left"><p>根据官方博客的说明，copilot 是完全针对代码的，所以其他事情他基本上一概不知，正确用法当然是回到我们的本职工作。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230410213208.png" class="left"><p>实测不用 <code>q:</code> 也可以，但这是从官方开发者那边学来的技巧，<code>q:</code> 准确触发提问而不是代码编写。</p> <img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230408171638.png" class="left"><p>进一步接地气就选中文资料，好用无负担</p><br/><h3 id="操作技巧：禁止提示"><a href="#操作技巧：禁止提示" class="headerlink" title="操作技巧：禁止提示"></a>操作技巧：禁止提示</h3><p>某些历史包袱文件可能过于庞大，使用上可能会感觉到建议都在瞎扯，可以在编辑器右下角点击关闭代码协助提示。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230410211411.png" class="left"><p>也可以在编辑器 <code>Settings.json</code> 文件中进行配置，比如把用于写各种配置信息的文件类型禁止分析</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;editor.inlineSuggest.enabled&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;github.copilot.enable&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;*&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;yaml&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;plaintext&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;markdown&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;javascript&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;python&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><br/><h1 id="隐私纠纷-amp-代码安全"><a href="#隐私纠纷-amp-代码安全" class="headerlink" title="隐私纠纷&amp;代码安全"></a>隐私纠纷&amp;代码安全</h1><p>GitHub Copilot的隐私问题一直备受关注。2021年7月，OpenAI 和 GitHub 发布了一份联合声明，承诺对用户的隐私和数据安全进行保护，并明确了 Copilot 在开发过程中使用的数据来源和数据处理方法。声明还指出，Copilot 会收集用户的输入和代码，以及用于训练模型的代码存储库的元数据和代码片段，但不会存储完整的代码存储库或私人代码。同时，声明还指出用户可以选择退出使用 Copilot，并在使用过程中保持完全控制权。</p><p>然而，仍有一些人对 Copilot 的隐私问题表示担忧。他们认为，Copilot 使用的训练数据可能包含用户的私人代码，Copilot的代码生成算法可能会泄露用户的商业机密或知识产权。此外，一些专家也指出，Copilot生成的代码可能会存在安全漏洞和编程错误，从而导致数据泄露或系统崩溃等问题。因此，他们呼吁 OpenAI 和 GitHub 加强隐私保护措施，并建立更加透明和安全的用户数据管理机制。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230409174225.png" class="left"><br/><br/><p>建议在 <a href="https://github.com/settings/copilot">Github 个人设置</a>中，建议对隐私授权进行设置，把允许使用你的代码片段作为训练取消。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/2023/04/12/Pasted%20image%2020230410211050.png" class="left"><p>2022年在 IEEE 安全与隐私研讨会上发表的<a href="https://arxiv.org/abs/2108.09293">一篇论文评估了 Copilot 生成的代码的安全性</a>，这些代码是 MITRE 在 89 个不同场景和 1689 个程序中列举的 25 个最大的代码弱点(例如跨网站脚本、路径遍历)。这是围绕<strong>弱点的多样性</strong>(它对可能导致各种代码弱点的场景的响应能力) ，<strong>提示的多样性</strong>(它对相同代码弱点的微妙变化的响应能力)和<strong>域的多样性</strong>(它在 Verilog 中生成寄存器传输级硬件规范的能力)的评估报告。研究发现，在多种语言中，39.33% 的顶级建议和 40.73% 的总建议导致了代码漏洞。</p><br/><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><p>同类产品 <a href="https://www.zhihu.com/question/590152131">Cursor</a>，为 OpenAI 旗下研发，考虑与微软的深度结合，更多高阶能力未来应该会在 Github Copilot 透出。目前 Cursor 已经从 GPT4 降级到了 GPT3，并且也开始收费了。</p><p>Github Copilot X 的<a href="https://www.youtube.com/watch?v=4RfD5JiXt3A">宣传片</a>其<a href="https://github.com/features/preview/copilot-x">官网</a>中透露其新功能包括加入聊天工具 Copilot Chat、PR生成和智能处理工具 Copilot for Pull Request、智能终端工具 Copilot CLI、智能文档工具 Copilot Doc、语音生成代码工具 Copilot Voice … 非常期待！</p><br/><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>以合作和开放的心态去使用 AI，AI 依然不是万能的，但它已经称得上是“好用”的。多探索、多打磨自己的助手，不要成为被动接受趋势浪尾的人。</p><p>倾听更多的声音：<a href="https://www.zhihu.com/question/470873369">https://www.zhihu.com/question/470873369</a></p><br/><br/><br/><br/><br/>]]></content:encoded>
      
      
      
      
      <comments>https://blog.liluhui.cn/2023/04/12/github-copilot/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Shader入门-07</title>
      <link>https://blog.liluhui.cn/2023/03/31/Shader%E5%85%A5%E9%97%A807/</link>
      <guid>https://blog.liluhui.cn/2023/03/31/Shader%E5%85%A5%E9%97%A807/</guid>
      <pubDate>Fri, 31 Mar 2023 15:11:51 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;最近项目太忙了，一个练习拼拼凑凑时间花了三天，不算满意，但总归完成了一版。加上这个练习在 _WorldSpaceLightPos0 获取不到</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近项目太忙了，一个练习拼拼凑凑时间花了三天，不算满意，但总归完成了一版。加上这个练习在 _WorldSpaceLightPos0 获取不到上卡了一两个小时，整个人就有些烦躁，结果还是在放弃解决的时候发现是 untiy 设置的问题，有时候思路在一条路上走到黑了就逐渐疯狂 .. </p><p>花了很多时间在找图上，可视化的描述太重要了，但找来图也很难保持风格一致，总归看得不太舒服。</p><br/><p>写完我从头看了下，前置的基础知识还包括线性代数基础，不然不好理解“点积”是做什么的，另外还有对于法向量的理解。</p><p>我把粗暴的结论写在这，当然这些基础概念我相信看文章的小伙伴不懂一定会动手搜索的 : )</p><ul><li>点积是两个向量的夹角余弦值乘以它们的长度之积，在这个练习中因为都做了归一化处理你可以当作就是 cosθ 。</li><li>法向量是垂直于当前平面的单位向量。</li></ul><br/><h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p>实现一版最基础的光照模型，包括环境光、表面漫反射、表面镜面反射。</p><p>👉<a href="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/video/20230331/Unity_1qwLuTMcKz_x264.mp4">展示备份（国内节点）</a><br>👇效果展示（科学上网）</p><div class="video-container"><iframe src="https://www.youtube.com/embed/yjb1mZsPEFY" frameborder="0" loading="lazy" allowfullscreen></iframe></div><br/><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Shader</span> <span class="string">&quot;Unlit/AloeaShader07&quot;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="title class_">Properties</span> &#123;</span><br><span class="line">        _MainTex (<span class="string">&quot;Texture&quot;</span>, 2D) = <span class="string">&quot;white&quot;</span> &#123;&#125;</span><br><span class="line">        _Gloss (<span class="string">&quot;Gloss&quot;</span>, <span class="title class_">Range</span>(<span class="number">1</span>,<span class="number">100</span>)) = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="title class_">SubShader</span> &#123;</span><br><span class="line">        <span class="title class_">Tags</span> &#123; <span class="string">&quot;RenderType&quot;</span>=<span class="string">&quot;Opaque&quot;</span> <span class="string">&quot;Queue&quot;</span>=<span class="string">&quot;Geometry&quot;</span> &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="title class_">Pass</span> &#123;</span><br><span class="line">            <span class="variable constant_">CGPROGRAM</span></span><br><span class="line">            #pragma vertex vert</span><br><span class="line">            #pragma fragment frag</span><br><span class="line"></span><br><span class="line">            #include <span class="string">&quot;UnityCG.cginc&quot;</span></span><br><span class="line">            #include <span class="string">&quot;Lighting.cginc&quot;</span></span><br><span class="line">            #include <span class="string">&quot;AutoLight.cginc&quot;</span></span><br><span class="line"></span><br><span class="line">            struct <span class="title class_">MeshData</span> &#123;</span><br><span class="line">                float4 vertex : <span class="variable constant_">POSITION</span>;</span><br><span class="line">                float3 normal : <span class="variable constant_">NORMAL</span>;</span><br><span class="line">                float2 uv : <span class="title class_">TEXCOORD0</span>;</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            struct <span class="title class_">Interpolators</span> &#123;</span><br><span class="line">                float4 vertex : <span class="variable constant_">SV_POSITION</span>;</span><br><span class="line">                float2 uv : <span class="title class_">TEXCOORD0</span>;</span><br><span class="line">                float3 normal : <span class="title class_">TEXCOORD1</span>;</span><br><span class="line">                float3 worldPos : <span class="title class_">TEXCOORD2</span>;</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            sampler2D _MainTex;</span><br><span class="line">            float4 _MainTex_ST;</span><br><span class="line">            float _Gloss;</span><br><span class="line"></span><br><span class="line">            <span class="title class_">Interpolators</span> vert (<span class="title class_">MeshData</span> v) &#123;</span><br><span class="line">                <span class="title class_">Interpolators</span> o;</span><br><span class="line">                o.<span class="property">vertex</span> = <span class="title class_">UnityObjectToClipPos</span>(v.<span class="property">vertex</span>);</span><br><span class="line">                o.<span class="property">uv</span> = <span class="title function_">TRANSFORM_TEX</span>(v.<span class="property">uv</span>, _MainTex);</span><br><span class="line">                o.<span class="property">normal</span> = <span class="title class_">UnityObjectToWorldNormal</span>( v.<span class="property">normal</span> );</span><br><span class="line">                o.<span class="property">worldPos</span> = <span class="title function_">mul</span>( unity_ObjectToWorld, v.<span class="property">vertex</span> ).<span class="property">xyz</span>;</span><br><span class="line">                <span class="keyword">return</span> o;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            float4 frag (<span class="title class_">Interpolators</span> i) : SV_Target &#123;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 环境光</span></span><br><span class="line">                float ambient = unity_AmbientSky.<span class="property">w</span>;</span><br><span class="line">  </span><br><span class="line">                <span class="comment">// 漫反射</span></span><br><span class="line">                float3 L = _WorldSpaceLightPos0.<span class="property">xyz</span>;</span><br><span class="line">                float3 N = <span class="title function_">normalize</span>(i.<span class="property">normal</span>);</span><br><span class="line">                float3 diffuse = <span class="title function_">max</span>(<span class="number">0</span>, <span class="title function_">dot</span>(L, N));</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 镜面反射</span></span><br><span class="line">                float3 V = <span class="title function_">normalize</span>(_WorldSpaceCameraPos - i.<span class="property">worldPos</span>);</span><br><span class="line">                float3 H = <span class="title function_">normalize</span>(L + V);</span><br><span class="line">                float3 specular = <span class="title function_">max</span>(<span class="number">0</span>, <span class="title function_">dot</span>(H, N));</span><br><span class="line">                specular = <span class="title function_">pow</span>(specular, _Gloss);</span><br><span class="line">  </span><br><span class="line">                <span class="keyword">return</span> <span class="title function_">float4</span>( (ambient + specular + diffuse) * _LightColor0.<span class="property">xyz</span> * <span class="title function_">tex2D</span>(_MainTex, i.<span class="property">uv</span>) , <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable constant_">ENDCG</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br/><h2 id="效果调试"><a href="#效果调试" class="headerlink" title="效果调试"></a>效果调试</h2><p><strong>重要说明：</strong><br><strong>1. 请先看完下面知识点部分的【光照模型】</strong><br><strong>2. 本次练习的重点就是把光照模型的计算再写一遍</strong></p><br/><p>步骤一：<br>计算散射光 diffuse</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">float4 frag (<span class="title class_">Interpolators</span> i) : SV_Target &#123;</span><br><span class="line">    <span class="comment">// _WorldSpaceLightPos0 获取到场景内第一个平行光的单位矢量（方向）。</span></span><br><span class="line">    <span class="comment">// _WorldSpaceLightPos0 这个名字有点迷惑，由于平行光是无限远的，这里给的始终是单位向量，当作方向使用</span></span><br><span class="line">    float3 L = _WorldSpaceLightPos0.<span class="property">xyz</span>;</span><br><span class="line">    <span class="comment">// 世界空间下的法向量 （怎么转化的回顾下 [练习4]）。</span></span><br><span class="line">    float3 N = <span class="title function_">normalize</span>(i.<span class="property">normal</span>);</span><br><span class="line">    <span class="comment">// 计算散射光：取入射光线 L 和 当前点的法向量 N 的点积，方向相反时会得到负数，需要处理范围至 [0, 1]。</span></span><br><span class="line">    float3 diffuse = <span class="title function_">max</span>(<span class="number">0</span>, <span class="title function_">dot</span>(L, N));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">float4</span>(diffuse, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230331/Pasted%20image%2020230330233802.png" class=""><br/><p>步骤二：<br>计算镜面反射光 specular</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> float4 frag (<span class="title class_">Interpolators</span> i) : SV_Target &#123;</span><br><span class="line">    <span class="comment">// 世界空间下的法向量</span></span><br><span class="line">    float3 N = <span class="title function_">normalize</span>(i.<span class="property">normal</span>);</span><br><span class="line">    <span class="comment">// 计算相机方向向量</span></span><br><span class="line">    <span class="comment">// _WorldSpaceCameraPos 是相机在世界空间下的位置，worldPos 是当前顶点在世界空间下的位置</span></span><br><span class="line">    float3 V = <span class="title function_">normalize</span>(_WorldSpaceCameraPos - i.<span class="property">worldPos</span>);</span><br><span class="line">    <span class="comment">// 计算 blinn phone 模型中的中间向量 H</span></span><br><span class="line">    float3 H = <span class="title function_">normalize</span>(L + V);</span><br><span class="line">    <span class="comment">// 计算反射光：取 中间向量 H 和 顶点法向量 N 的点积，限制数值范围在 [0,1]</span></span><br><span class="line">    float3 specular = <span class="title function_">max</span>(<span class="number">0</span>, <span class="title function_">dot</span>(H, N));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">float4</span>(specular, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230331/Pasted%20image%2020230330234549.png" class=""><br/><p>步骤三：<br>接入光泽度 _Gloss，测试反射光的面积和亮度</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> float4 frag (<span class="title class_">Interpolators</span> i) : SV_Target &#123;</span><br><span class="line">    float3 N = <span class="title function_">normalize</span>(i.<span class="property">normal</span>);</span><br><span class="line">    float3 V = <span class="title function_">normalize</span>(_WorldSpaceCameraPos - i.<span class="property">worldPos</span>);</span><br><span class="line">    float3 H = <span class="title function_">normalize</span>(L + V);</span><br><span class="line">    float3 specular = <span class="title function_">max</span>(<span class="number">0</span>, <span class="title function_">dot</span>(H, N));</span><br><span class="line">    <span class="comment">// 接入参数 _Gloss</span></span><br><span class="line">    specular = <span class="title function_">pow</span>(specular, _Gloss);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">float4</span>(specular, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230331/Pasted%20image%2020230330234739.png" class=""><br/><p>步骤四：<br>最后接入环境光、材质的纹理、光照的颜色</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> float4 frag (<span class="title class_">Interpolators</span> i) : SV_Target &#123;</span><br><span class="line">    float ambient = unity_AmbientSky.<span class="property">w</span>;</span><br><span class="line">    float3 N = <span class="title function_">normalize</span>(i.<span class="property">normal</span>);</span><br><span class="line">    float3 V = <span class="title function_">normalize</span>(_WorldSpaceCameraPos - i.<span class="property">worldPos</span>);</span><br><span class="line">    float3 H = <span class="title function_">normalize</span>(L + V);</span><br><span class="line">    float3 specular = <span class="title function_">max</span>(<span class="number">0</span>, <span class="title function_">dot</span>(H, N));</span><br><span class="line">    specular = <span class="title function_">pow</span>(specular, _Gloss);</span><br><span class="line">    <span class="comment">// 表面的光照强度等于 ambient + specular + diffuse</span></span><br><span class="line">    <span class="comment">// 接入光照颜色 _LightColor0.xyz、材质纹理 tex2D(_MainTex, i.uv)</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">float4</span>( (ambient + specular + diffuse) * _LightColor0.<span class="property">xyz</span> * <span class="title function_">tex2D</span>(_MainTex, i.<span class="property">uv</span>) , <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230331/Pasted%20image%2020230331215529.png" class=""><br/><h2 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h2><h3 id="光照模型-Lambert"><a href="#光照模型-Lambert" class="headerlink" title="光照模型 - Lambert"></a>光照模型 - Lambert</h3><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230331/Pasted%20image%2020230331203228.png" class="left" width="300"><br/><p>先借由这张图回顾下物理世界中一个物体对于光是如何反应的。</p><p>在任何一个环境场内，假设有一束无限远的方向光，那么首先在球体朝向光的那一半面积是会被照亮的，而另一半是不会被这束光直接照亮的。</p><p>同时，取决于我们的观测位置、球体表面的光泽度、方向光的强度，我们会看到表面尤其高亮的一块光斑。</p><p>与此同时，方向光在环境中其他物体&#x2F;墙壁上反射出的光线也会照亮球体，让一部分在背光处的面被照亮。</p><br/><br/><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230331/Pasted%20image%2020230331220738.png" class="left" width="300"><br/><p>我们首先来进入一下漫反射的部分，也就是经典的 Lambert 光照模型。</p><p>已知物理世界是没有绝对光滑的表面的，任何表面由于凹凸不平会出现各个方向的反射，而 Lambert 光照假设表面对所有入射光线具有相同的反射率，那么表面每个点上漫反射的光照强度只取决于入射光的角度和法线的夹角。</p><p>其公式为  <code>DiffuseLight = Kd * I * max( dot(N,L) )</code> </p><p>其中 <code>dot(N,L)</code> 得到法线和入射光夹角的余弦，<code>I</code> 是入射光的强度即 Intensity，<code>Kd</code> 为表面的漫反射系数。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230331/Pasted%20image%2020230331214629.png" class="left" width="300"><br/><h3 id="光照模型-—-Phong-Lighting"><a href="#光照模型-—-Phong-Lighting" class="headerlink" title="光照模型 — Phong Lighting"></a>光照模型 — Phong Lighting</h3><p>最基础的光照模型 Phong Lighting 将物体表面的反射光分为漫反射光和镜面反射两个部分，其中漫反射我们在上面的 Lambert Lighting 中已经了解过，而镜面反射，也就是视觉效果上的高亮效果，取决于入射光线反射后与视线方向的角度。</p><p>参考下图，入射光线 L 对应当前表面法向量 N 上反射出光线 R，当视线 V 的方向和 R 重叠时，高亮是最为强的，当 V 和 R 的夹角越大，观察到的镜面反射的效果则越弱。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230331/Pasted%20image%2020230331223545.png" class="left" width="300"><br/><p>其实这个模型非常的简单，所有公式也很干净。</p><p>其公式为 <code>max(0, dot(V,R))</code></p><p>其中 V 是视线向量，R 是光线反射向量。</p><br/><h3 id="光照模型-—-Blinn-Phong-Lighting"><a href="#光照模型-—-Blinn-Phong-Lighting" class="headerlink" title="光照模型 — Blinn Phong Lighting"></a>光照模型 — Blinn Phong Lighting</h3><p>整体上和 Phone Lighting 是接近的，差别是 Blinn-Phone 模型在镜面反射光照的计算中不依赖反射光线向量 R 了，而是使用一个所谓的中间向量 H。</p><p>其公式为 <code>pow(max(0, dot(L, H)), Gloss)</code></p><p>其中 H 等于 <code>(L + V)/(|| L + V ||)</code> 也就是入射光线 L 和视线方向 V 的中间单位向量。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230331/Pasted%20image%2020230331223608.png" class="left" width="300"><br/><p>从效率上来讲，当视线和光线都距离表面无限远的时候，H 这个中间向量几乎就是常量，而 Phone 模型下则仍需要计算每一个点的反射光线。</p><p>从效果上来说，在 Phone Lighting 的方式中，对于一个平面来说镜面反射总是圆形的，而采用 Blinn Phong Lighting 后从一些角度看则是椭圆形的，像在太阳靠近地平面这样的场景下就要更真实。</p><br/><p>Phone Light 的反射高亮</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230331/Unity_INOKOLN2FY.gif" class=""><p>Blinn Phone Light 的反射高亮</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230331/Unity_K4B4WmFZyS.gif" class=""><br/><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>今天的练习中主要涉及了环境光+漫反射光+镜面反射光组合的基础光照模型。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230331/Pasted%20image%2020230331205548.png" class=""><p>在光照模型领域，还有其他很有意思的光照计算方式。比如说变体的 <code>Half-Lambert</code> , 在表面较暗的区域带来更多光照，整体散射过渡更加光滑一些；还有 <code>Banded-Lighting</code> 让光照像波段一样阶梯型变化；<code>Minnaert Lighting</code> 模型特别适合用于凹凸不平的表面，那些有大量反向散射的表面，比如月亮、地毯；还有像 <code>Oren-Nayer Lighting</code> 这种基于半角向量的漫反射模型，来模拟更粗糙表面的效果… </p><p>看来，很适合把这批都练手一下呢 : ）</p><p>最后的最后，还是需要再次说明一下，图形学的光照模型都是一种数学上的近似模拟，而不是真实世界的表达。 —— 你怎么放飞想象都可以，但不要指着真太阳说它渲染得真细腻。</p><br/><br/><br/><br/><br/>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E6%B8%B2%E6%9F%93/">渲染</category>
      
      
      
      <comments>https://blog.liluhui.cn/2023/03/31/Shader%E5%85%A5%E9%97%A807/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Shader入门-06</title>
      <link>https://blog.liluhui.cn/2023/03/27/Shader%E5%85%A5%E9%97%A806/</link>
      <guid>https://blog.liluhui.cn/2023/03/27/Shader%E5%85%A5%E9%97%A806/</guid>
      <pubDate>Mon, 27 Mar 2023 12:24:45 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;来上点难度 💪&lt;br&gt;想不清楚就写写画画，没有什么比写下来更让人思路清晰了&lt;/p&gt;
&lt;br/&gt;

&lt;h2 id=&quot;效果&quot;&gt;&lt;a href=</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>来上点难度 💪<br>想不清楚就写写画画，没有什么比写下来更让人思路清晰了</p><br/><h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p>圆角边框效果，支持改变边框的颜色、粗细、曲度</p><p>👉<a href="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/video/20230327/Unity_5upLQWaRXm_x264.mp4">展示备份（国内节点）</a><br>👇效果展示（科学上网）</p><div class="video-container"><iframe src="https://www.youtube.com/embed/96msKY_3n_4" frameborder="0" loading="lazy" allowfullscreen></iframe></div><br/><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Shader</span> <span class="string">&quot;Unlit/AloeaShader06&quot;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="title class_">Properties</span></span><br><span class="line">    &#123;</span><br><span class="line">        _Radius (<span class="string">&quot;BorderRadius&quot;</span>, <span class="title class_">Range</span>(<span class="number">0.01</span>, <span class="number">1</span>)) = <span class="number">0.1</span></span><br><span class="line">        _Border (<span class="string">&quot;BorderWidth&quot;</span>, <span class="title class_">Range</span>(<span class="number">0</span>, <span class="number">1</span>)) = <span class="number">0.1</span></span><br><span class="line">        _Color (<span class="string">&quot;BorderColor&quot;</span>, <span class="title class_">Color</span>) = (<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">SubShader</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="title class_">Tags</span> &#123; <span class="string">&quot;RenderType&quot;</span>=<span class="string">&quot;Opaque&quot;</span> &#125;</span><br><span class="line">        <span class="variable constant_">LOD</span> <span class="number">100</span></span><br><span class="line">  </span><br><span class="line">        <span class="title class_">Pass</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="variable constant_">CGPROGRAM</span></span><br><span class="line">            #pragma vertex vert</span><br><span class="line">            #pragma fragment frag</span><br><span class="line">  </span><br><span class="line">            #include <span class="string">&quot;UnityCG.cginc&quot;</span></span><br><span class="line">  </span><br><span class="line">            float _Radius;</span><br><span class="line">            float _Border;</span><br><span class="line">            float4 _Color;</span><br><span class="line">  </span><br><span class="line">            struct appdata</span><br><span class="line">            &#123;</span><br><span class="line">                float4 vertex : <span class="variable constant_">POSITION</span>;</span><br><span class="line">                float2 uv : <span class="title class_">TEXCOORD0</span>;</span><br><span class="line">            &#125;;</span><br><span class="line">  </span><br><span class="line">            struct v2f</span><br><span class="line">            &#123;</span><br><span class="line">                float2 uv : <span class="title class_">TEXCOORD0</span>;</span><br><span class="line">                float4 vertex : <span class="variable constant_">SV_POSITION</span>;</span><br><span class="line">            &#125;;</span><br><span class="line">  </span><br><span class="line">            v2f vert (appdata v)</span><br><span class="line">            &#123;</span><br><span class="line">                v2f o;</span><br><span class="line">                o.<span class="property">vertex</span> = <span class="title class_">UnityObjectToClipPos</span>(v.<span class="property">vertex</span>);</span><br><span class="line">                o.<span class="property">uv</span> = v.<span class="property">uv</span>;</span><br><span class="line">                <span class="keyword">return</span> o;</span><br><span class="line">            &#125;</span><br><span class="line">  </span><br><span class="line">            fixed4 frag (v2f i) : SV_Target</span><br><span class="line">            &#123;  </span><br><span class="line">                float split = <span class="number">1</span> / _Radius;</span><br><span class="line">                float2 coords = i.<span class="property">uv</span>;</span><br><span class="line">                coords.<span class="property">x</span> *= split;</span><br><span class="line">                float2 pointOnLineSeg = <span class="title function_">float2</span>( <span class="title function_">clamp</span>(coords.<span class="property">x</span>, <span class="number">0.5</span>, split - <span class="number">0.5</span>), <span class="number">0.5</span> ); <span class="comment">// 中心线</span></span><br><span class="line">                float sdf = <span class="title function_">distance</span>(coords, pointOnLineSeg) * <span class="number">2</span> ; <span class="comment">// 所有点距离中心线距离</span></span><br><span class="line">                <span class="title function_">clip</span>(- (sdf - <span class="number">1</span>)); <span class="comment">// 裁剪</span></span><br><span class="line">                float borderSdf = sdf + _Border;</span><br><span class="line">                float pd = <span class="title function_">fwidth</span>(borderSdf);</span><br><span class="line">                <span class="keyword">return</span> <span class="title function_">saturate</span>((borderSdf - <span class="number">1</span>) / pd )* _Color;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable constant_">ENDCG</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><br/><h2 id="效果调试"><a href="#效果调试" class="headerlink" title="效果调试"></a>效果调试</h2><p>整体思路</p><ol><li>裁剪掉半径外的部分</li><li>找到平面的一条中线，按照所有点到中线距离超过半径r1来算出需要裁掉的部分</li><li>在上一步的基础上，再减去一个内层半径r2的图形，得到圆角边框</li></ol><br/><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230327/Pasted%20image%2020230326162955.png" class=""><br/><p>步骤一：<br>画出中线，假设矩形均分为 6 段，第一段和最后一段是画圆角的位置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fixed4 frag (v2f i) : SV_Target</span><br><span class="line">&#123;</span><br><span class="line">    float2 coords = i.<span class="property">uv</span>;</span><br><span class="line">    <span class="comment">// 坐标 x 的范围从 [0,1] 改为 [0,6]，划分为 6 段</span></span><br><span class="line">    coords.<span class="property">x</span> *= <span class="number">6</span>;</span><br><span class="line">    <span class="comment">// 中线的 x 范围通过 clamp 函数限制在 [0.5,5.5]，y 则始终为 0.5</span></span><br><span class="line">    float2 pointOnLineSeg = <span class="title function_">float2</span>( <span class="title function_">clamp</span>(coords.<span class="property">x</span>, <span class="number">0.5</span>, <span class="number">5.5</span>), <span class="number">0.5</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230327/Pasted%20image%2020230326154136.png" class=""><br/><p>步骤二：<br>算出 uv 上所有点到中线的距离</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fixed4 frag (v2f i) : SV_Target</span><br><span class="line">&#123;  </span><br><span class="line">float2 coords = i.<span class="property">uv</span>;</span><br><span class="line">coords.<span class="property">x</span> *= <span class="number">6</span>;</span><br><span class="line">float2 pointOnLineSeg = <span class="title function_">float2</span>( <span class="title function_">clamp</span>(coords.<span class="property">x</span>, <span class="number">0.5</span>, <span class="number">5.5</span>), <span class="number">0.5</span>);</span><br><span class="line"><span class="comment">// distance 函数算两个向量的距离</span></span><br><span class="line">float sdf = <span class="title function_">distance</span>(coords, pointOnLineSeg);</span><br><span class="line"><span class="keyword">return</span> <span class="title function_">float4</span>(sdf.<span class="property">xxx</span>, <span class="number">1</span>);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>这个时候圆角内的点到中线的距离数值范围在 [0, 0.5],  超出的部分最大达到  √ (0.5^2 + 0.5^2)。我们的目标就是裁剪掉这个部分。 </p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230327/Pasted%20image%2020230326155127.png" class=""><br/><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 把 sdf 乘以 2，数值范围改到 [0,1] 更方便操作和观察</span></span><br><span class="line">float sdf = <span class="title function_">distance</span>(coords, pointOnLineSeg) * <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>如下图，更清楚地观察我们要裁剪的部分（纯白色，大于1的部分）</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230327/Pasted%20image%2020230326155555.png" class=""><br/><p>步骤三：<br>裁剪掉圆角外侧</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fixed4 frag (v2f i) : SV_Target</span><br><span class="line">&#123;  </span><br><span class="line">float2 coords = i.<span class="property">uv</span>;</span><br><span class="line">coords.<span class="property">x</span> *= <span class="number">6</span>;</span><br><span class="line">float2 pointOnLineSeg = <span class="title function_">float2</span>( <span class="title function_">clamp</span>(coords.<span class="property">x</span>, <span class="number">0.5</span>, <span class="number">5.5</span>), <span class="number">0.5</span>);</span><br><span class="line">float sdf = <span class="title function_">distance</span>(coords, pointOnLineSeg) * <span class="number">2</span>;</span><br><span class="line"><span class="comment">// clip 会丢弃小于 0 的部分，因为目前圆角内所有点的 sdf 为 [0,1]</span></span><br><span class="line"><span class="title function_">clip</span>(sdf - <span class="number">1</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="title function_">float4</span>(sdf.<span class="property">xxx</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230327/Pasted%20image%2020230326160211.png" class=""><br/><p>ok，能看到准确得裁剪出来了。<code>sdf - 1</code>  让圆角内的点都因为小于 0 被丢弃了，我们把它翻过来就是了。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">clip</span>(- (sdf - <span class="number">1</span>));</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230327/Pasted%20image%2020230326160343.png" class=""><br/><p>步骤四：<br>画内圈，边框的宽度先取 0.2 测试</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fixed4 frag (v2f i) : SV_Target</span><br><span class="line">&#123;  </span><br><span class="line">float2 coords = i.<span class="property">uv</span>;</span><br><span class="line">coords.<span class="property">x</span> *= <span class="number">6</span>;</span><br><span class="line">float2 pointOnLineSeg = <span class="title function_">float2</span>( <span class="title function_">clamp</span>(coords.<span class="property">x</span>, <span class="number">0.5</span>, <span class="number">5.5</span>), <span class="number">0.5</span>);</span><br><span class="line">float sdf = <span class="title function_">distance</span>(coords, pointOnLineSeg) * <span class="number">2</span>;</span><br><span class="line"><span class="title function_">clip</span>(- (sdf - <span class="number">1</span>));</span><br><span class="line"><span class="comment">// 计算方式是一样的，直接加上差值 0.2 就行</span></span><br><span class="line">float borderSdf = sdf + <span class="number">0.2</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="title function_">float4</span>(borderSdf.<span class="property">xxx</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230327/Pasted%20image%2020230326160941.png" class=""><p>现在所有点到中线的距离范围在 [0,1.2]，可以观察到其中 [1,1.2] 的部分就是我们的目标边框</p><br/><p>步骤五：<br>得到边框</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fixed4 frag (v2f i) : SV_Target</span><br><span class="line">&#123;  </span><br><span class="line">float2 coords = i.<span class="property">uv</span>;</span><br><span class="line">coords.<span class="property">x</span> *= <span class="number">6</span>;</span><br><span class="line">float2 pointOnLineSeg = <span class="title function_">float2</span>( <span class="title function_">clamp</span>(coords.<span class="property">x</span>, <span class="number">0.5</span>, <span class="number">5.5</span>), <span class="number">0.5</span>);</span><br><span class="line">float sdf = <span class="title function_">distance</span>(coords, pointOnLineSeg) * <span class="number">2</span>;</span><br><span class="line"><span class="title function_">clip</span>(- (sdf - <span class="number">1</span>));</span><br><span class="line">float borderSdf = sdf + <span class="number">0.2</span>;</span><br><span class="line"><span class="comment">// 比较 1 和 borderSdf ，大于 1 则为 1 ，小于 1 则为 0</span></span><br><span class="line"><span class="keyword">return</span> <span class="title function_">float4</span>(<span class="title function_">step</span>(<span class="number">1</span>, borderSdf).<span class="property">xxx</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230327/Pasted%20image%2020230326161333.png" class=""><br/><p>步骤六：<br>接入参数作为变量，包括圆角角度、边框宽度、边框颜色</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">fixed4 frag (v2f i) : SV_Target</span><br><span class="line">&#123;  </span><br><span class="line"><span class="comment">// 测试假定分为 6 段，现在改为输入参数</span></span><br><span class="line">float split = <span class="number">1</span> / _Radius;</span><br><span class="line">float2 coords = i.<span class="property">uv</span>;</span><br><span class="line">coords.<span class="property">x</span> *= split;</span><br><span class="line">float2 pointOnLineSeg = <span class="title function_">float2</span>( <span class="title function_">clamp</span>(coords.<span class="property">x</span>, <span class="number">0.5</span>, split - <span class="number">0.5</span>), <span class="number">0.5</span>);</span><br><span class="line">float sdf = <span class="title function_">distance</span>(coords, pointOnLineSeg) * <span class="number">2</span>;</span><br><span class="line"><span class="title function_">clip</span>(- (sdf - <span class="number">1</span>));</span><br><span class="line"><span class="comment">// 边框宽度</span></span><br><span class="line">float borderSdf = sdf + _Border;</span><br><span class="line"><span class="comment">// 边框颜色</span></span><br><span class="line"><span class="keyword">return</span> <span class="title function_">float4</span>(<span class="title function_">step</span>(<span class="number">1</span>, borderSdf).<span class="property">xxx</span>, <span class="number">1</span>) * _Color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230327/Pasted%20image%2020230326161535.png" class=""><br/><p>步骤七：<br>优化边缘锯齿</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">fixed4 frag (v2f i) : SV_Target</span><br><span class="line">&#123;  </span><br><span class="line">float split = <span class="number">1</span> / _Radius;</span><br><span class="line">float2 coords = i.<span class="property">uv</span>;</span><br><span class="line">coords.<span class="property">x</span> *= split;</span><br><span class="line">float2 pointOnLineSeg = <span class="title function_">float2</span>( <span class="title function_">clamp</span>(coords.<span class="property">x</span>, <span class="number">0.5</span>, split - <span class="number">0.5</span>), <span class="number">0.5</span>);</span><br><span class="line">float sdf = <span class="title function_">distance</span>(coords, pointOnLineSeg) * <span class="number">2</span>;</span><br><span class="line"><span class="title function_">clip</span>(- (sdf - <span class="number">1</span>));</span><br><span class="line">float borderSdf = sdf + _Border;</span><br><span class="line"><span class="comment">// 利用 fwidth 得到屏幕空间的色彩变化率，数值范围在 [0,max] （ max 具体看屏幕，通常为 1 ）</span></span><br><span class="line">float pd = <span class="title function_">fwidth</span>(borderSdf);</span><br><span class="line"><span class="comment">// 用 saturate 夹紧数值范围 [0,1]，同样达到之前用 step 的效果</span></span><br><span class="line"><span class="keyword">return</span> <span class="title function_">saturate</span>((borderSdf - <span class="number">1</span>) / pd )* _Color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230327/Pasted%20image%2020230326161838.png" class=""><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230327/Pasted%20image%2020230326162003.png" class=""><br/><h2 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h2><h3 id="函数-clamp"><a href="#函数-clamp" class="headerlink" title="函数 clamp"></a>函数 clamp</h3><p>clamp 函数用于将一个值限制在一个指定的范围内。它接受三个参数，第一个是要限制的值，第二个是范围的下限，第三个是范围的上限。如果值小于下限，函数返回下限，如果值大于上限，函数返回上限，否则返回原始值。例如，<code>clamp(x,0.5,1.5)</code> 将 x 限制在 0.5 到 1.5 之间。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">void Unity_Clamp_float4(float4 In, float4 Min, float4 Max, out float4 Out)</span><br><span class="line">&#123;</span><br><span class="line">    Out = clamp(In, Min, Max);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br/><h3 id="函数-saturate"><a href="#函数-saturate" class="headerlink" title="函数 saturate"></a>函数 saturate</h3><p>简化版的 clamp，指定限制范围为 [0, 1] 。</p><p>saturate 函数用于将一个值限制在 0 到 1 之间。它接受一个参数，即要限制的值。如果该值小于 0，则返回 0，如果该值大于 1，则返回 1，否则返回原始值。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">void Unity_Saturate_float4(float4 In, out float4 Out)</span><br><span class="line">&#123;</span><br><span class="line">    Out = saturate(In);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br/><h3 id="函数-distance"><a href="#函数-distance" class="headerlink" title="函数 distance"></a>函数 distance</h3><p>distance 函数用于计算两个点之间的距离。它接受两个参数，即两个点的坐标。distance 函数实际上是计算两个点之间的欧几里得距离，即勾股定理。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">void Unity_Distance_float4(float4 A, float4 B, out float Out)</span><br><span class="line">&#123;</span><br><span class="line">    Out = distance(A, B);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意这个函数和 <code>length</code> 的区别，length 的传入是一个向量，计算其长度；<code>distance</code> 则是传入两个向量，计算它们之间的距离。在使用中有些场景可以相互替换用。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">float dist = length(vec1 - vec2);</span><br><span class="line">float len = distance(vec, vec3(0, 0, 0));</span><br></pre></td></tr></table></figure><br/><h3 id="函数-clip"><a href="#函数-clip" class="headerlink" title="函数 clip"></a>函数 clip</h3><p>clip 函数用于在特定条件下舍弃像素片段。它接受一个参数，即一个浮点数，如果该参数小于等于 0，则该像素片段将被舍弃。</p><br/><h3 id="函数-step"><a href="#函数-step" class="headerlink" title="函数 step"></a>函数 step</h3><p>相当于一个判断赋值的缩写&#x2F;语法糖，<code>step(edge, in)</code> 等于 <code>!!(in &gt;= edge)</code>，返回结果为 0 或1。</p><p>step 函数用于根据一个阈值将一个值转换为 0 或 1 。它接受两个参数，第一个是要比较的值，第二个是阈值。如果值小于等于阈值，则函数返回 0 ，否则返回1。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">void Unity_Step_float4(float4 Edge, float4 In, out float4 Out)</span><br><span class="line">&#123;</span><br><span class="line">    Out = step(Edge, In);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br/><h3 id="函数-fwidth"><a href="#函数-fwidth" class="headerlink" title="函数 fwidth"></a>函数 fwidth</h3><p>相当于每个用户的屏幕空间中当前像素的变化率，数值越大相邻像素间差距越大，表现为数学上的变化率。返回的数值范围上限取决于物理屏幕的分辨率，通常为 1，下限则为0 （比如严格纯色的场景）。下次可以合着抗锯齿一起单独讲一篇，通常也是用在各种边缘处理中。</p><p>fwidth 函数用于计算函数在屏幕空间中的变化率。它接受一个参数，即要计算的函数值。fwidth 函数实际上是对 dx 和 dy 函数的绝对值之和的计算，其中 dx 函数计算函数在 x 方向上的变化率，dy 函数计算函数在 y 方向上的变化率。</p><p>fwidth(x) &#x3D; abs(ddx(x)) + abs(ddy(x))。</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230327/Pasted%20image%2020230326164958.png" class=""><br/><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol><li>还是回到核心思路，找到中线按照距离算出要裁剪掉的部分，后面就比较顺了。</li><li>涉及到的函数比较多，包括处理数值范围的 <code>clamp</code>、<code>saturate</code>、<code>clip</code>，判断语法糖 <code>step</code>，处理边缘锯齿的变化率导数 <code>fwidth</code> 。</li><li>整个效果还有改进的空间，包括抗锯齿的细节上，也包括圆角的设计策略上。</li></ol><br/><br/><br/><br/><br/>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E6%B8%B2%E6%9F%93/">渲染</category>
      
      
      
      <comments>https://blog.liluhui.cn/2023/03/27/Shader%E5%85%A5%E9%97%A806/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Shader入门-05</title>
      <link>https://blog.liluhui.cn/2023/03/25/Shader%E5%85%A5%E9%97%A805/</link>
      <guid>https://blog.liluhui.cn/2023/03/25/Shader%E5%85%A5%E9%97%A805/</guid>
      <pubDate>Sat, 25 Mar 2023 14:07:14 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;今天的练习知识部分比较简单 💪&lt;br&gt;数字世界的颜色并不太好看，人的主观审美在数学表达里并不件容易的事&lt;/p&gt;
&lt;h2 id=&quot;效果&quot;&gt;&lt;</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>今天的练习知识部分比较简单 💪<br>数字世界的颜色并不太好看，人的主观审美在数学表达里并不件容易的事</p><h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p>一个基础的血条，在进入低血量状态时闪烁报警<br>👉<a href="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/video/20230325/Unity_Xu2AMKL76K_x264.mp4">展示备份（国内节点）</a><br>👇效果展示（科学上网）</p><div class="video-container"><iframe src="https://www.youtube.com/embed/X4SSNbmElRM" frameborder="0" loading="lazy" allowfullscreen></iframe></div><br/><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p><strong>附件：贴图</strong><br>链接：<a href="https://pan.baidu.com/s/18R0Nd_KgD5R9qOJTLnrctg">https://pan.baidu.com/s/18R0Nd_KgD5R9qOJTLnrctg</a><br>提取码：tvul </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Shader</span> <span class="string">&quot;Unlit/AloeaShader05&quot;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="title class_">Properties</span></span><br><span class="line">    &#123;</span><br><span class="line">        _Health (<span class="string">&quot;Health&quot;</span>, <span class="title class_">Range</span>(<span class="number">0</span>, <span class="number">1</span>)) = <span class="number">1</span></span><br><span class="line">        _MainTex (<span class="string">&quot;Texture&quot;</span>, 2D) = <span class="string">&quot;white&quot;</span> &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">SubShader</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="title class_">Tags</span> &#123; <span class="string">&quot;RenderType&quot;</span>=<span class="string">&quot;Opaque&quot;</span> &#125;</span><br><span class="line">        <span class="variable constant_">LOD</span> <span class="number">100</span></span><br><span class="line">  </span><br><span class="line">        <span class="title class_">Pass</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="variable constant_">CGPROGRAM</span></span><br><span class="line">            #pragma vertex vert</span><br><span class="line">            #pragma fragment frag</span><br><span class="line">  </span><br><span class="line">            #include <span class="string">&quot;UnityCG.cginc&quot;</span></span><br><span class="line">  </span><br><span class="line">            float _Health;</span><br><span class="line">            sampler2D _MainTex;</span><br><span class="line">  </span><br><span class="line">            struct appdata</span><br><span class="line">            &#123;</span><br><span class="line">                float4 vertex : <span class="variable constant_">POSITION</span>;</span><br><span class="line">                float2 uv : <span class="title class_">TEXCOORD0</span>;</span><br><span class="line">            &#125;;</span><br><span class="line">  </span><br><span class="line">            struct v2f</span><br><span class="line">            &#123;</span><br><span class="line">                float2 uv : <span class="title class_">TEXCOORD0</span>;</span><br><span class="line">                float4 vertex : <span class="variable constant_">SV_POSITION</span>;</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            v2f vert (appdata v)</span><br><span class="line">            &#123;</span><br><span class="line">                v2f o;</span><br><span class="line">                o.<span class="property">vertex</span> = <span class="title class_">UnityObjectToClipPos</span>(v.<span class="property">vertex</span>);</span><br><span class="line">                o.<span class="property">uv</span> = v.<span class="property">uv</span>;</span><br><span class="line">                <span class="keyword">return</span> o;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            fixed4 frag (v2f i) : SV_Target</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line">                float lowHealth = <span class="number">0.2</span>;</span><br><span class="line">                <span class="comment">// float highHealth = 0.8;</span></span><br><span class="line">                float4 maskBar = <span class="title function_">float4</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">                float4 healthBar = <span class="title function_">tex2D</span>(_MainTex, <span class="title function_">float2</span>( _Health, i.<span class="property">uv</span>.<span class="property">y</span>) );</span><br><span class="line">                float flash = <span class="title function_">cos</span>(_Time.<span class="property">y</span> * <span class="number">10</span>) * <span class="number">0.3</span>;</span><br><span class="line">  </span><br><span class="line">                <span class="keyword">if</span> (_Health &lt; lowHealth) &#123;</span><br><span class="line">                    healthBar += flash;</span><br><span class="line">                &#125;</span><br><span class="line">  </span><br><span class="line">                float4 bar = <span class="title function_">lerp</span>(healthBar, maskBar, _Health &lt; i.<span class="property">uv</span>.<span class="property">x</span>);</span><br><span class="line">                <span class="keyword">return</span> bar;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable constant_">ENDCG</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br/><h2 id="调试过程"><a href="#调试过程" class="headerlink" title="调试过程"></a>调试过程</h2><p>步骤一：做出渐变的血条</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> fixed4 frag (v2f i) : SV_Target</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 从 红色 到 绿色 渐变/混合，沿着 uv.x 方向</span></span><br><span class="line">    float4 healthBar = <span class="title function_">lerp</span>(<span class="title function_">float4</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>), <span class="title function_">float4</span>(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>), i.<span class="property">uv</span>.<span class="property">x</span>);</span><br><span class="line">    <span class="keyword">return</span> healthBar;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230325/Pasted%20image%2020230324214119.png" class=""><br/><p>步骤二：增加血量数值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  fixed4 frag (v2f i) : SV_Target</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 血条背景色</span></span><br><span class="line">    float4 maskBar = <span class="title function_">float4</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">    <span class="comment">// 血条</span></span><br><span class="line">    float4 healthBar = <span class="title function_">lerp</span>(<span class="title function_">float4</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>), <span class="title function_">float4</span>(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>), i.<span class="property">uv</span>.<span class="property">x</span>);</span><br><span class="line">    <span class="comment">// 判断血量数值： _Health &lt; i.uv.x 得到 0 或者 1，对应显示血条或者背景色</span></span><br><span class="line">    float4 bar = <span class="title function_">lerp</span>(healthBar, maskBar, _Health &lt; i.<span class="property">uv</span>.<span class="property">x</span>);</span><br><span class="line">    <span class="keyword">return</span> bar;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230325/Pasted%20image%2020230324214343.png" class=""><br/><p>步骤三：血条按照当前血量显示为纯色</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fixed4 frag (v2f i) : SV_Target</span><br><span class="line">&#123;</span><br><span class="line">    float4 maskBar = <span class="title function_">float4</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">    <span class="comment">// i.uv.x 改为 _Health，按照当前血量显示纯色，而不是之前的渐变色</span></span><br><span class="line">    float4 healthBar = <span class="title function_">lerp</span>(<span class="title function_">float4</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>), <span class="title function_">float4</span>(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>), _Health);</span><br><span class="line">    float4 bar = <span class="title function_">lerp</span>(healthBar, maskBar, _Health &lt; i.<span class="property">uv</span>.<span class="property">x</span>);</span><br><span class="line">    <span class="keyword">return</span> bar;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230325/Pasted%20image%2020230324215059.png" class=""><br/><p>步骤四：增加闪烁效果</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">fixed4 frag (v2f i) : SV_Target</span><br><span class="line">&#123;</span><br><span class="line">    float lowHealth = <span class="number">0.2</span>;</span><br><span class="line">    float4 maskBar = <span class="title function_">float4</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">    float4 healthBar = <span class="title function_">lerp</span>(<span class="title function_">float4</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>), <span class="title function_">float4</span>(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>), _Health);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 低于指定血量数值时闪烁</span></span><br><span class="line">    <span class="keyword">if</span> (_Health &lt; lowHealth) &#123;</span><br><span class="line">        float flash = <span class="title function_">cos</span>(_Time.<span class="property">y</span> * <span class="number">10</span>) * <span class="number">0.3</span>; <span class="comment">// 调试效果，数值范围限制在 -0.3 ~ 0.3</span></span><br><span class="line">        healthBar += flash; <span class="comment">// 这里用“加”颜色会有更强的加深和变亮（数值范围跨度更大），用“乘”则比较低调</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    float4 bar = <span class="title function_">lerp</span>(healthBar, maskBar, _Health &lt; i.<span class="property">uv</span>.<span class="property">x</span>);</span><br><span class="line">    <span class="keyword">return</span> bar;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230325/Pasted%20image%2020230324220144.png" class=""><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230325/Pasted%20image%2020230324215119.png" class=""><br/><p>步骤五：改成材质的方式，因为数学实现的过渡颜色太丑了（草绿..）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">fixed4 frag (v2f i) : SV_Target</span><br><span class="line">&#123;</span><br><span class="line">    float lowHealth = <span class="number">0.2</span>;</span><br><span class="line">    float4 maskBar = <span class="title function_">float4</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">    <span class="comment">// 改成材质，取当前血量处对应的颜色，x 坐标及血量数值，y 坐标取材质本身</span></span><br><span class="line">    float4 healthBar = <span class="title function_">tex2D</span>(_MainTex, <span class="title function_">float2</span>( _Health, i.<span class="property">uv</span>.<span class="property">y</span>) );</span><br><span class="line">    float flash = <span class="title function_">cos</span>(_Time.<span class="property">y</span> * <span class="number">10</span>) * <span class="number">0.3</span>;</span><br><span class="line">    <span class="keyword">if</span> (_Health &lt; lowHealth) &#123;</span><br><span class="line">        healthBar += flash;</span><br><span class="line">    &#125;</span><br><span class="line">    float4 bar = <span class="title function_">lerp</span>(healthBar, maskBar, _Health &lt; i.<span class="property">uv</span>.<span class="property">x</span>);</span><br><span class="line">    <span class="keyword">return</span> bar;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230325/Pasted%20image%2020230324220520.png" class=""><br/><h2 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h2><h3 id="颜色过渡"><a href="#颜色过渡" class="headerlink" title="颜色过渡"></a>颜色过渡</h3><p>程序处理颜色的过程中，颜色分量（RGB）是线性变化，这会导致出现一些理性的、不好看的色彩。比如这个练习中将红色和绿色线性混合会产生一种灰暗的棕色，而不是我们通常期望的明亮的黄色，即使采用 Gamma 曲线也不能得到符合视觉期望的效果。</p><br/><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fixed4 frag (v2f i) : SV_Target</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">lerp</span>(<span class="title function_">float4</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>), <span class="title function_">float4</span>(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>), i.<span class="property">uv</span>.<span class="property">x</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这张图为线性色彩空间</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230325/Pasted%20image%2020230323213034.png" class=""><p>这张图为 Gamma 2.2 色彩空间</p><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230325/Pasted%20image%2020230323213051.png" class=""><br/><p>为了解决这个问题，我们有两种方案可以选择：</p><p>一是如本次练习一样，改成精心设计的材质来表达色彩。</p><p>二是多定义几段中间的颜色，hack 色彩过渡的过程中是希望的片段颜色，比如这样强行让中间是黄色，效果就好多了，但可以观察到只是三段的话黄色和绿色中间还有一段棕黄色的片段。</p><br/><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> fixed4 frag (v2f i) : SV_Target &#123;</span><br><span class="line">    float t = i.<span class="property">uv</span>.<span class="property">x</span>;</span><br><span class="line">    fixed4 c;</span><br><span class="line">    <span class="keyword">if</span> (t &lt; <span class="number">0.5</span>) &#123;</span><br><span class="line">        c = <span class="title function_">lerp</span>(_Color1, _Color2, t * <span class="number">2</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        c = <span class="title function_">lerp</span>(_Color2, _Color3, (t - <span class="number">0.5</span>) * <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/imgs/20230325/Pasted%20image%2020230323215053.png" class=""><br/><h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>已经练手了几个案例了，回顾理解一下 Untiy Shader 中的数据类型。</p><table><thead><tr><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td>float、float*</td><td>浮点数和浮点数向量类型，用于表示颜色、位置、缩放等值。其他还有 float2、float3 等，数字表示几位的向量。half、fixed 为更低精度的浮点数，具体<a href="https://blog.liluhui.cn/2023/03/01/Shader%E5%85%A5%E9%97%A801/#%F0%9F%A4%94-%E5%8D%95%E4%BD%8D%E7%B2%BE%E5%BA%A6">看这</a>。</td></tr><tr><td>bool</td><td>布尔类型，用于表示开关等值。</td></tr><tr><td>int</td><td>整数类型，用于表示计数器等值。</td></tr><tr><td>sampler、sampler*</td><td>纹理类型，用于表示从纹理中采样的颜色值。 其他还有sampler1D、sampler2D、sampler3D、samplerCUBE、samplerRECT。</td></tr><tr><td>matrix</td><td>矩阵类型，用于表示变换矩阵、旋转矩阵等值。也可以写为 float3x3 这类。</td></tr><tr><td>stuct</td><td>结构体类型，允许将多个变量组合为一个自定义类型，以便更方便地管理和传递数据。</td></tr><tr><td>uniform</td><td>用于表示在Shader编译时确定的常量值，类似于C++中的常量。</td></tr></tbody></table><p>文档：<a href="https://docs.unity3d.com/cn/2021.2/Manual/SL-DataTypesAndPrecision.html">https://docs.unity3d.com/cn/2021.2/Manual/SL-DataTypesAndPrecision.html</a></p><br/><br/><br/><br/><br/>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E6%B8%B2%E6%9F%93/">渲染</category>
      
      
      
      <comments>https://blog.liluhui.cn/2023/03/25/Shader%E5%85%A5%E9%97%A805/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Shader入门04</title>
      <link>https://blog.liluhui.cn/2023/03/21/Shader%E5%85%A5%E9%97%A804/</link>
      <guid>https://blog.liluhui.cn/2023/03/21/Shader%E5%85%A5%E9%97%A804/</guid>
      <pubDate>Tue, 21 Mar 2023 13:26:54 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;出去旅行了一周多，回来继续干活了 ✊&lt;br&gt;云南的自然风光真是爽心悦目，坐到我小小的桌前倒有些不习惯了哈哈。&lt;/p&gt;
&lt;br/&gt;

&lt;h2 </description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>出去旅行了一周多，回来继续干活了 ✊<br>云南的自然风光真是爽心悦目，坐到我小小的桌前倒有些不习惯了哈哈。</p><br/><h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p>按照指定的混合程度图混合草地和岩石，地皮按照世界空间铺设</p><p>👉<a href="https://liluhui.oss-cn-hangzhou.aliyuncs.com/assets/video/20230321/Unity_0s6WBko66o_x264.mp4">展示备份（国内节点）</a><br>👇效果展示 （科学上网）</p><div class="video-container"><iframe src="https://www.youtube.com/embed/CSzSV2TWkP8" frameborder="0" loading="lazy" allowfullscreen></iframe></div><br/><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p><strong>附件：贴图</strong><br>链接：<a href="https://pan.baidu.com/s/1_BS-VJculY-L3sKWgTtYAg">https://pan.baidu.com/s/1_BS-VJculY-L3sKWgTtYAg</a><br>提取码：6ue3 </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Shader</span> <span class="string">&quot;Unlit/AloeaShader05&quot;</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="title class_">Properties</span></span><br><span class="line">  &#123;</span><br><span class="line">    _MainTex (<span class="string">&quot;Texture&quot;</span>, 2D) = <span class="string">&quot;white&quot;</span> &#123;&#125;    <span class="comment">// 材质1，草皮用</span></span><br><span class="line">    _Rock (<span class="string">&quot;Texture&quot;</span>, 2D) = <span class="string">&quot;white&quot;</span> &#123;&#125;       <span class="comment">// 材质2，岩石用</span></span><br><span class="line">    _Pattern (<span class="string">&quot;Texture&quot;</span>, 2D) = <span class="string">&quot;grey&quot;</span> &#123;&#125;     <span class="comment">// 材质3，混合程度</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title class_">SubShader</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="title class_">Tags</span> &#123; <span class="string">&quot;RenderType&quot;</span>=<span class="string">&quot;Opaque&quot;</span> &#125;</span><br><span class="line">    <span class="variable constant_">LOD</span> <span class="number">100</span></span><br><span class="line"></span><br><span class="line">    <span class="title class_">Pass</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="variable constant_">CGPROGRAM</span></span><br><span class="line">      #pragma vertex vert</span><br><span class="line">      #pragma fragment frag</span><br><span class="line"></span><br><span class="line">      #include <span class="string">&quot;UnityCG.cginc&quot;</span></span><br><span class="line"></span><br><span class="line">      struct appdata</span><br><span class="line">      &#123;</span><br><span class="line">        float4 vertex : <span class="variable constant_">POSITION</span>;</span><br><span class="line">        float2 uv : <span class="title class_">TEXCOORD0</span>;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      struct v2f</span><br><span class="line">      &#123;</span><br><span class="line">        float2 uv : <span class="title class_">TEXCOORD0</span>;</span><br><span class="line">        float4 vertex : <span class="variable constant_">SV_POSITION</span>;</span><br><span class="line">        float3 <span class="attr">worldPos</span>: <span class="title class_">TEXCOORD1</span>;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      sampler2D _MainTex;</span><br><span class="line">      sampler2D _Rock;</span><br><span class="line">      sampler2D _Pattern;</span><br><span class="line"></span><br><span class="line">      v2f vert (appdata v)</span><br><span class="line">      &#123;</span><br><span class="line">        v2f o;</span><br><span class="line">        <span class="comment">// 转换为世界坐标</span></span><br><span class="line">        o.<span class="property">worldPos</span> = <span class="title function_">mul</span>( <span class="variable constant_">UNITY_MATRIX_M</span>, v.<span class="property">vertex</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 本地空间转化为相机的剪辑空间</span></span><br><span class="line">        o.<span class="property">vertex</span> = <span class="title class_">UnityObjectToClipPos</span>(v.<span class="property">vertex</span>);</span><br><span class="line"></span><br><span class="line">        o.<span class="property">uv</span> = v.<span class="property">uv</span>;</span><br><span class="line">        <span class="keyword">return</span> o;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      fixed4 frag (v2f i) : SV_Target</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// 材质按照世界坐标xz表</span></span><br><span class="line">        float2 topDownProjection =i.<span class="property">worldPos</span>.<span class="property">xz</span>;</span><br><span class="line">        fixed4 moss = <span class="title function_">tex2D</span>(_MainTex, topDownProjection);</span><br><span class="line">        fixed4 rock = <span class="title function_">tex2D</span>(_Rock, topDownProjection);</span><br><span class="line">        <span class="comment">// 混合 Alpha</span></span><br><span class="line">        float pattern = <span class="title function_">tex2D</span>(_Pattern, topDownProjection); </span><br><span class="line">        float4 finalColor = <span class="title function_">lerp</span>(moss, rock, pattern);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> finalColor;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable constant_">ENDCG</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个案例混合部分的知识点和 <a href="https://blog.liluhui.cn/2023/03/01/Shader%E5%85%A5%E9%97%A801/">练习1</a> 是一样的，用到 <code>lerp</code> 函数混合，不同的是练习1是传入是色彩，这里是材质。</p><p>地皮采用世界坐标花了点时间，关键点需要 1. 得到绝对的世界坐标；2. 将材质匹配倒世界坐标。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> o.<span class="property">worldPos</span> = <span class="title function_">mul</span>( <span class="variable constant_">UNITY_MATRIX_M</span>, v.<span class="property">vertex</span>);</span><br><span class="line"><span class="number">2.</span> fixed4 moss = <span class="title function_">tex2D</span>(_MainTex, i.<span class="property">worldPos</span>.<span class="property">xz</span>);</span><br></pre></td></tr></table></figure><br/><h2 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h2><h3 id="材质基础"><a href="#材质基础" class="headerlink" title="材质基础"></a>材质基础</h3><p>从本质上来说，材质就是一张贴图、一张图片。但从表现来说，我们除了把材质当作贴图，比如这个练习中的草皮和岩石，我们也可以用材质表达混合程度、法线方向、位移程度。总之，我们需要理解图片中表达的色彩的本质是数字，数字可以用到处理任何事情。</p><p>材质有几个基本属性</p><ol><li>分辨率：纹理的像素数，通常以宽度和高度表示。</li><li>格式：纹理存储像素数据的方式，如 RGB、RGBA、ARGB、DXT 等。</li><li>过滤模式：指定纹理在放大或缩小时如何进行插值计算，常见的有点采样、双线性插值、三线性插值等。</li><li>包裹模式：指定纹理坐标超出 [0,1] 范围时如何处理，常见的有重复、镜像、夹取等。</li><li>Mipmap：一组预先计算的纹理级别，用于在不同距离和角度下呈现更好的纹理效果。</li><li>压缩：将纹理数据压缩以减小内存占用和提高渲染性能，常见的有 DXT、PVRTC、ETC 等格式。</li><li>纹理类型：指定纹理用于什么目的，如 Albedo（漫反射）、Normal（法线）、Metallic（金属度）、Emission（自发光）等。</li></ol><p>先要有个大致的了解，每一块再之后的练习中再展开聊聊。</p><br/><h3 id="处理坐标转化"><a href="#处理坐标转化" class="headerlink" title="处理坐标转化"></a>处理坐标转化</h3><p>untiy shaderlab 中有一系列引擎定义的内置变量供使用，包括我们之前用到的 <code>_Time</code> ，还有这次练习中用到的 <code>UNITY_MATRIX_M</code> 。这个练习中使用 <code>unity_ObjectToWorld</code> 替换也是一样的。<br>实现上，将当前的顶点乘以（<code>mul</code>）变化矩阵得到目标信息。</p><table><thead><tr><th>变量</th><th>含义</th></tr></thead><tbody><tr><td>unity_ObjectToWorld</td><td>一个 4x4 的矩阵，表示从对象空间到世界空间的变换矩阵。它包含了物体的旋转、缩放和平移信息，可以将对象空间中的顶点坐标转换为世界空间中的顶点坐标。</td></tr><tr><td>UNITY_MATRIX_M</td><td>一个 3x4 的矩阵，表示从对象空间到视图空间的变换矩阵。它只包含了物体的旋转和平移信息，不包括缩放信息，可以将对象空间中的顶点坐标转换为视图空间中的顶点坐标。</td></tr></tbody></table><p>文档： <a href="https://docs.unity3d.com/Manual/SL-UnityShaderVariables.html">https://docs.unity3d.com/Manual/SL-UnityShaderVariables.html</a></p><br/><br/><br/><br/><br/>]]></content:encoded>
      
      
      <category domain="https://blog.liluhui.cn/categories/%E6%B8%B2%E6%9F%93/">渲染</category>
      
      
      
      <comments>https://blog.liluhui.cn/2023/03/21/Shader%E5%85%A5%E9%97%A804/#disqus_thread</comments>
      
    </item>
    
  </channel>
</rss>
